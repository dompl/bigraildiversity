/*
 Justified Image Grid - Aligns your images into a Flickr / Google+ style thumbnail-grid gallery
 v3.9

 Copyright (c) 2018 Published by Belcovio. Developed by Firsh. https://www.justifiedgrid.com/
*/
function loadJustifiedImageGrid(c){c.justifiedImageGrid=function(p,x){function q(a,d){return"hasOwnProperty"in a?a.hasOwnProperty(d):Object.prototype.hasOwnProperty.call(a,d)}function m(b,d){b=v(b);if("below"==a.caption)return b;d=(((d||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return b.replace(/\x3c!--[\s\S]*?--\x3e|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(a,b){return-1<d.indexOf("<"+b.toLowerCase()+">")?a:""})}function v(a,d){if(void 0===
a)return"";var b=0,c=!1;"undefined"===typeof d&&(d=2);a=a.toString().replace(/&lt;/g,"<").replace(/&gt;/g,">");var e={ENT_NOQUOTES:0,ENT_HTML_QUOTE_SINGLE:1,ENT_HTML_QUOTE_DOUBLE:2,ENT_COMPAT:2,ENT_QUOTES:3,ENT_IGNORE:4};0===d&&(c=!0);if("number"!==typeof d){d=[].concat(d);for(var l=0,k=d.length;l<k;l+=1)0===e[d[l]]?c=!0:e[d[l]]&&(b|=e[d[l]]);d=b}d&e.ENT_HTML_QUOTE_SINGLE&&(a=a.replace(/&#0*39;/g,"'"));c||(a=a.replace(/&quot;/g,'"'));return a=a.replace(/&amp;/g,"&")}function y(b){"undefined"!==typeof b&&
b.stopPropagation();b=a.element.find(".jig-overflow > a.jig-loaded").length;var d=a.element.find(".jig-imageContainer .jig-overflow > a").length;"no"==a.errorChecking&&(d-=5);"undefined"!==typeof a.loadCheckTimeout&&clearTimeout(a.loadCheckTimeout);b<d?(a.loadCheckTimeout=setTimeout(function(){y()},500),a.loadMoreButton.animate({opacity:.5},300,"JIGswing")):(a.loadMoreButton.animate({opacity:1},300,"JIGswing"),a.limit+=a.originalLimit,a.loadMoreCounter++,"once"==a.loadMore&&(a.limit=a.allItems.length),
t.createGallery())}var h={targetHeight:190,heightDeviation:40,aspectRatio:"",disableCropping:"",randomizeWidth:"",margins:4,animSpeed:300,limit:0,initiallyLoad:"",maxRows:"",linkClass:"",linkRel:"jig[*instance*]",linkAttributeName:"",linkAttributeValue:"",linkAttribute:"",linkTitleField:"description",imgAltField:"title",wrapText:"no",readingDirection:"ltr",loadMore:"off",loadMoreText:"Load more",loadMoreCountText:"(*count* images remaining)",loadMoreOffset:100,loadMoreAutoWidth:"on",disableHover:"no",
downloadLink:"no",lightboxLink:"no",verticalCenterCaptions:"off",customFonts:"yes",captionHeight:54,quality:90,retinaReady:"yes",retinaQuality:"auto",minRetinaQuality:30,maxRetinaDensity:3,caption:"fade",captionMatchWidth:"no",captionMatchWidthForceNo:!1,titleField:"title",captionField:"description",lightbox:"prettyphoto",lightboxInit:"jigAddLightbox1",overlay:"hovered",overlayIcon:"off",bordersTotal:0,innerBorder:"always",innerBorderWidth:0,innerBorderAnimate:"width",middleBorder:"always",middleBorderWidth:0,
middleBorderColor:"white",outerBorder:"always",outerBorderColor:"black",specialFx:"off",specialFxType:"desaturate",specialFxOptions:"",specialFxBlend:1,incompleteLastRow:"normal",errorChecking:"yes",retryCount:0,resizeCount:0,errorChecked:!1,errorImages:[],filters:!1,filterMultiple:"no",filterStyle:"buttons",L2filters:!1,L2FilterMultiple:"no",L2FilterStyle:"buttons",filterSmallestColor:"#A3A3A3",filterSmallestSize:11,filterLargestColor:"#000000",filterLargestSize:22,separatorCharacter:" - ",thumbnailFilename:"normal",
cropZone:"",instance:1,element:c(p),lastWindowWidth:c(window).width()},t=this,a=c.extend({},h,x),I="opacity"in c.support&&!c.support.opacity,J="",L=!!window.chrome&&!/opera|opr/i.test(navigator.userAgent);this.s=a;try{J=0<window.navigator.userAgent.indexOf("MSIE ")||!!navigator.userAgent.match(/Trident.*rv:11\./),"Netscape"==navigator.appName&&-1===navigator.appVersion.indexOf("Trident")&&-1!==navigator.appVersion.indexOf("Edge")&&(J=!0)}catch(b){J=!1}var P=!1;"ontouchstart"in document.documentElement&&
(P=!0);t.init=function(){a.originalTargetHeight=a.targetHeight;a.minHeight=a.originalMinHeight=a.targetHeight-a.heightDeviation;a.maxHeight=a.originalMaxHeight=a.targetHeight+a.heightDeviation;a.prevScreenHeightLimitRatio=-1;a.defaultHeightRatio=a.originalDefaultHeightRatio=a.targetHeight/a.maxHeight;a.originalLimit=a.limit;a.hiddenOpacity=I?.01:0;J&&a.element.addClass("jig-ua-ie");I&&a.element.addClass("jig-ua-old-ie");!1===P?a.element.addClass("jig-no-touch"):a.element.addClass("jig-touch");if("no"!==
a.lightbox&&"links-off"!==a.lightbox&&"new_tab"!==a.lightbox)if(a.hiddenLinkClass=""!==a.linkClass?'class="jig-link jig-hiddenLink '+a.linkClass+'" ':'class="jig-link jig-hiddenLink" ',a.linkClass=""!==a.linkClass?'class="jig-link '+a.linkClass+'" ':'class="jig-link" ',-1!==a.linkRel.indexOf("*instance*"))a.linkRel='rel="'+a.linkRel.replace("*instance*",a.instance)+'" ';else if(-1!==a.linkRel.indexOf("auto"))switch(a.lightbox){case "prettyphoto":a.linkRel='rel="'+a.linkRel.replace("auto","prettyPhoto["+
a.instance+"]")+'" ';break;case "colorbox":a.linkRel='rel="'+a.linkRel.replace("auto","colorBox["+a.instance+"]")+'" ';break;default:a.linkRel='rel="'+a.linkRel.replace("auto","gallery["+a.instance+"]")+'" '}else a.linkRel='rel="'+a.linkRel+'" ';else a.linkClass="",a.hiddenLinkClass="",a.linkRel="";""!==a.linkAttributeName&&(a.linkAttribute=""!==a.linkAttributeValue?" "+a.linkAttributeName+'="'+a.linkAttributeValue+'"':" "+a.linkAttributeName+'=""');a.allItems=a.selectedItems=a.items.slice();a.aspectRatio&&
(a.maxWidth=Math.floor(a.maxHeight*parseFloat(a.aspectRatio)),"normal"==a.incompleteLastRow&&(a.incompleteLastRow="match","off"!==a.loadMore&&(a.incompleteLastRow="flexible-match")));"yes"==a.retinaReady&&("undefined"===typeof window.devicePixelRatio||1==window.devicePixelRatio?(a.retinaReady="no",a.devicePixelRatio=1):a.devicePixelRatio=window.devicePixelRatio>a.maxRetinaDensity?a.maxRetinaDensity:window.devicePixelRatio);"yes"==a.retinaReady&&("auto"==a.retinaQuality?(a.quality=Math.ceil(a.quality/
a.devicePixelRatio),a.quality=a.quality>a.minRetinaQuality?a.quality:a.minRetinaQuality):a.quality=a.retinaQuality);"yes"==a.disableCropping&&(a.minHeight=a.originalMinHeight=50);"captions"==a.specialFx&&"below"==a.caption&&(a.specialFx="off");if("yes"==a.customFonts&&"off"!==a.caption&&("below"==a.caption||"off"!==a.verticalCenterCaptions||"captions"==a.specialFx)){var b=c("body").find(".jig-fontCheck");if(0===b.length){c("body").append('<div class="jig-fontCheck">!"\'\\#$%&amp;()*+,-./0123456789:;&lt;=&gt;?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_abcdefghijklmnopqrstuvwxyz{|}~ A quick brown fox jumps over the lazy dog.</div>');
b=c("body").find(".jig-fontCheck");var d=b.width(),g=0,f=setInterval(function(){g++;var a=b.width();d==a||0===a?50<g&&(b.remove(),clearInterval(f)):(c("body").trigger("jig-fontLoaded"),b.remove(),clearInterval(f))},100)}}var e=function(){return!1},l=e,k=e,u=e,h=e,z=e,n=e,p=e,m=e,v=e,A=e,B=e,L=e,w=function(b,d,g,e){if("captions"!==a.specialFx||".jig-caption-wrapper .jig-caption"!==d)b.find(d).JIGhoverFlow(g,{opacity:e},a.animSpeed);else{b=b.find(d);var K=M(b,!0);b.JIGhoverFlow(g,{opacity:e},{duration:a.animSpeed,
progress:function(){0!==c(this).closest(".jig-cw-role-real").length&&N(K)}})}},x=function(b,d,g,e){if("captions"!==a.specialFx)b.find(d).JIGhoverFlow(g,{height:e},a.animSpeed,"JIGeaseInOutQuad");else{b=b.find(d);var K=M(b);b.JIGhoverFlow(g,{height:e},{duration:a.animSpeed,easing:"JIGeaseInOutQuad",progress:function(){0!==c(this).closest(".jig-cw-role-real").length&&N(K)}})}},F=function(b,d,g,e){if("captions"!==a.specialFx)b.find(d).JIGhoverFlow(g,{height:e},{duration:a.animSpeed,easing:"JIGeaseInOutQuad",
progress:function(){var a=b.find(".jig-caption-wrapper"),d=b.parent();a.css("top",Math.round(d.height()/2-a.height()/2))}});else{var K=b.find(d),f=M(K),k=K.closest(".jig-caption");b.find(d).JIGhoverFlow(g,{height:e},{duration:a.animSpeed,easing:"JIGeaseInOutQuad",progress:function(){var a=b.find(".jig-caption-wrapper"),d=b.parent();a.css("top",Math.round(d.height()/2-k.height()/2));0!==c(this).closest(".jig-cw-role-real").length&&N(f)},complete:function(){"slide"!=a.caption&&"reverse-slide"!=a.caption||
"hide"!=e||b.find(".jig-cw-role-effect").height(.01)}})}},G=function(b,d,g,c){b.find(d).JIGhoverFlow(g,{opacity:c},a.animSpeed)},E=function(b,d,g,c){b.find(d).JIGhoverFlow(g,{borderLeftWidth:c,borderTopWidth:c,borderRightWidth:c,borderBottomWidth:c},a.animSpeed)};switch(a.overlay){case "hovered":"on"===a.overlayIcon?(l=function(a){w(a,"div.jig-overlay-wrapper, div.jig-overlay-icon-wrapper","mouseenter","show")},k=function(a){w(a,"div.jig-overlay-wrapper, div.jig-overlay-icon-wrapper","mouseleave",
"hide")}):(l=function(a){w(a,"div.jig-overlay-wrapper","mouseenter","show")},k=function(a){w(a,"div.jig-overlay-wrapper","mouseleave","hide")});break;case "others":"on"===a.overlayIcon?(l=function(a){w(a,"div.jig-overlay-wrapper, div.jig-overlay-icon-wrapper","mouseenter","hide")},k=function(a){w(a,"div.jig-overlay-wrapper, div.jig-overlay-icon-wrapper","mouseleave","show")}):(l=function(a){w(a,"div.jig-overlay-wrapper","mouseenter","hide")},k=function(a){w(a,"div.jig-overlay-wrapper","mouseleave",
"show")})}switch(a.innerBorder){case "hovered":switch(a.innerBorderAnimate){case "width":p=function(b){E(b,"div.jig-border","mouseenter",a.innerBorderWidth+"px")};m=function(a){E(a,"div.jig-border","mouseleave",0)};break;case "opacity":p=function(a){w(a,"div.jig-border","mouseenter","show")};m=function(a){w(a,"div.jig-border","mouseleave","hide")};break;case "off":p=function(a){c(a).find("div.jig-border").show()},m=function(a){c(a).find("div.jig-border").hide()}}break;case "others":switch(a.innerBorderAnimate){case "width":p=
function(a){E(a,"div.jig-border","mouseenter",0)};m=function(b){E(b,"div.jig-border","mouseleave",a.innerBorderWidth+"px")};break;case "opacity":p=function(a){w(a,"div.jig-border","mouseenter","hide")};m=function(a){w(a,"div.jig-border","mouseleave","show")};break;case "off":p=function(a){c(a).find("div.jig-border").hide()},m=function(a){c(a).find("div.jig-border").show()}}}switch(a.middleBorder){case "hovered":v=function(b){c(b).parent().parent("div.jig-imageContainer").css("background",a.middleBorderColor)};
A=function(a){c(a).parent().parent("div.jig-imageContainer").css("background","transparent")};break;case "others":v=function(a){c(a).parent().parent("div.jig-imageContainer").css("background","transparent")},A=function(b){c(b).parent().parent("div.jig-imageContainer").css("background",a.middleBorderColor)}}switch(a.outerBorder){case "hovered":B=function(b){c(b).parent().parent("div.jig-imageContainer").css("border-color",a.outerBorderColor)};L=function(a){c(a).parent().parent("div.jig-imageContainer").css("border-color",
"transparent")};break;case "others":B=function(a){c(a).parent().parent("div.jig-imageContainer").css("border-color","transparent")},L=function(b){c(b).parent().parent("div.jig-imageContainer").css("border-color",a.outerBorderColor)}}if(I)switch(a.specialFx){case "others":u=function(a){G(a,".jig-pixastic","mouseleave",.01)};h=function(b){G(b,".jig-pixastic","mouseleave",a.specialFxBlend)};break;case "hovered":u=function(b){G(b,".jig-pixastic","mouseenter",a.specialFxBlend)},h=function(a){G(a,".jig-pixastic",
"mouseleave",.01)}}else switch(a.specialFx){case "others":u=function(a){G(a,".jig-pixastic","mouseenter",.01)};h=function(b){G(b,".jig-pixastic","mouseleave",a.specialFxBlend)};break;case "hovered":u=function(b){G(b,".jig-pixastic","mouseenter",a.specialFxBlend)},h=function(a){G(a,".jig-pixastic","mouseleave",.01)}}switch(a.caption){case "fade":z=function(a){w(a,".jig-caption-wrapper .jig-caption","mouseenter","show")};n=function(a){w(a,".jig-caption-wrapper .jig-caption","mouseleave","hide")};break;
case "reverse-fade":z=function(a){w(a,".jig-caption-wrapper .jig-caption","mouseenter","hide")};n=function(a){w(a,".jig-caption-wrapper .jig-caption","mouseleave","show")};break;case "slide":I?(z=function(a){w(a,".jig-caption-wrapper .jig-caption","mouseenter","show")},n=function(a){w(a,".jig-caption-wrapper .jig-caption","mouseleave","hide")}):"off"==a.verticalCenterCaptions||"simple"==a.verticalCenterCaptions?(z=function(a){x(a,".jig-caption-wrapper .jig-caption","mouseenter","show")},n=function(a){x(a,
".jig-caption-wrapper .jig-caption","mouseleave","hide")}):(z=function(a){F(a,".jig-caption-wrapper .jig-caption","mouseenter","show")},n=function(a){F(a,".jig-caption-wrapper .jig-caption","mouseleave","hide")});break;case "reverse-slide":I?(z=function(a){w(a,".jig-caption-wrapper .jig-caption","mouseenter","hide")},n=function(a){w(a,".jig-caption-wrapper .jig-caption","mouseleave","show")}):"off"==a.verticalCenterCaptions||"simple"==a.verticalCenterCaptions?(z=function(a){x(a,".jig-caption-wrapper .jig-caption",
"mouseenter","hide")},n=function(a){x(a,".jig-caption-wrapper .jig-caption","mouseleave","show")}):(z=function(a){F(a,".jig-caption-wrapper .jig-caption","mouseenter","hide")},n=function(a){F(a,".jig-caption-wrapper .jig-caption","mouseleave","show")});break;case "mixed":"off"==a.verticalCenterCaptions||"simple"==a.verticalCenterCaptions?(z=function(a){x(a,".jig-caption-wrapper .jig-caption-description-wrapper","mouseenter","show")},n=function(a){x(a,".jig-caption-wrapper .jig-caption-description-wrapper",
"mouseleave","hide")}):(z=function(a){F(a,".jig-caption-wrapper .jig-caption-description-wrapper","mouseenter","show")},n=function(a){F(a,".jig-caption-wrapper .jig-caption-description-wrapper","mouseleave","hide")});break;case "reverse-mixed":"off"==a.verticalCenterCaptions||"simple"==a.verticalCenterCaptions?(z=function(a){x(a,".jig-caption-wrapper .jig-caption-description-wrapper","mouseenter","hide")},n=function(a){x(a,".jig-caption-wrapper .jig-caption-description-wrapper","mouseleave","show")}):
(z=function(a){F(a,".jig-caption-wrapper .jig-caption-description-wrapper","mouseenter","hide")},n=function(a){F(a,".jig-caption-wrapper .jig-caption-description-wrapper","mouseleave","show")})}"yes"!==a.disableHover&&(a.element.on("mouseenter mouseleave","a",function(a){var b=c(this);"none"!==b.css("display")&&(a.stopImmediatePropagation(),"mouseenter"===a.type?(l(b),u(b),z(b),p(b),v(b),B(b),b.data("title",b.attr("title")),b.removeAttr("title")):(k(b),h(b),n(b),m(b),A(b),L(b),b.attr("title",b.data("title"))))}),
a.element.on("mousedown","a",function(a){c(this).attr("title",c(this).data("title"))}));c("body").one("jig-fontLoaded",S);if("off"!==a.loadMore){a.loadMoreCounter=0;if("carousel"==a.lightbox)a.element.on("click",function(a){c(a.target).hasClass("justified-image-grid")&&(a.stopPropagation(),a.preventDefault())});a.element.on("click",".jig-loadMoreButton",y)}"prettyphoto"==a.lightbox&&"undefined"!==typeof jigOtherPrettyPhotoIsPresent&&c(document).ready(function(){setTimeout(function(){window[a.lightboxInit]()},
10)});if(a.filters||a.L2filters){a.filteredImages=[];if(a.filters){a.filterMultiple=a.filterMultiple||"no";a.filterStyle=a.filterStyle||"buttons";"buttons"==a.filterStyle?(a.filterType="Button",e="div"):(a.filterType="Tag",e="span");var C='<div id="jig'+a.instance+"-filter"+a.filterType+'s" class="jig-filter'+a.filterType+"s "+("no"!==a.filterMultiple?"jig-filterMultiple ":"jig-filterSingle ")+(P?"jig-touch ":"jig-no-touch ")+(J?"jig-ua-ie":"")+'jig-clearfix" data-filter-level="1">';for(r in a.filters)q(a.filters,
r)&&(a.filteredImages[r]=[],C+="<"+e+' class="jig-filter'+a.filterType+'" data-filter-slug="'+r+'">'+a.filters[r]+"</"+e+">");a.element.before(C+"</div>");"undefined"!==typeof a.filteredImages["all-items-nofilter"]&&(a.filteredImages["all-items-nofilter"]=a.selectedItems.slice());e=0;for(C=a.selectedItems.length;e<C;e+=1)if(a.selectedItems[e].filters)for(var H=0,O=a.selectedItems[e].filters.length;H<O;H+=1)"undefined"!==typeof a.filteredImages[a.selectedItems[e].filters[H][0]]&&"function"==typeof a.filteredImages[a.selectedItems[e].filters[H][0]].push&&
a.filteredImages[a.selectedItems[e].filters[H][0]].push(a.selectedItems[e]);e=c("#jig"+a.instance+"-filter"+a.filterType+"s .jig-filter"+a.filterType+'[data-filter-slug="all-items-nofilter"]');0<e.length&&c("#jig"+a.instance+"-filter"+a.filterType+"s .jig-filter"+a.filterType).first().attr("data-filter-slug")!==e.attr("data-filter-slug")&&e.parent().prepend(e);if("tags"==a.filterStyle){for(r in a.filters)q(a.filters,r)&&c("#jig"+a.instance+"-filter"+a.filterType+'s .jig-filterTag[data-filter-slug="'+
r+'"]').attr("rel",a.filteredImages[r].length);c.fn.tagcloud.defaults={size:{start:a.filterSmallestSize,end:a.filterLargestSize,unit:"px"},color:{start:a.filterSmallestColor,end:a.filterLargestColor}};0<e.length?(e.css({"font-size":a.filterLargestSize,color:a.filterLargestColor}),c("#jig"+a.instance+"-filter"+a.filterType+"s .jig-filter"+a.filterType+":gt(0)").tagcloud()):c("#jig"+a.instance+"-filter"+a.filterType+"s .jig-filter"+a.filterType).tagcloud()}c("#jig"+a.instance+"-filter"+a.filterType+
"s").on("click",".jig-filter"+a.filterType,Q)}if(a.L2filters){a.L2filterMultiple=a.L2filterMultiple||"no";a.L2filterStyle=a.L2filterStyle||"buttons";var D;if("buttons"==a.L2filterStyle){a.L2filterType="Button";var r="div"}else a.L2filterType="Tag",r="span";a.L2filteredImages=[];e='<div id="jig'+a.instance+"-L2filter"+a.L2filterType+'s" class="jig-filter'+a.L2filterType+"s "+("no"!==a.L2filterMultiple?"jig-filterMultiple ":"jig-filterSingle ")+(P?"jig-touch ":"jig-no-touch ")+(J?"jig-ua-ie":"")+'jig-clearfix" data-filter-level="2">';
for(D in a.L2filters)q(a.L2filters,D)&&(a.L2filteredImages[D]=[],e+="<"+r+' class="jig-filter'+a.L2filterType+'" data-filter-slug="'+D+'">'+a.L2filters[D]+"</"+r+">");a.element.before(e+"</div>");"undefined"!==typeof a.L2filteredImages["all-items-nofilter"]&&(a.L2filteredImages["all-items-nofilter"]=a.selectedItems.slice());r=0;for(e=a.selectedItems.length;r<e;r+=1)if(a.selectedItems[r].L2filters)for(C=0,H=a.selectedItems[r].L2filters.length;C<H;C+=1)"undefined"!==typeof a.L2filteredImages[a.selectedItems[r].L2filters[C][0]]&&
"function"===typeof a.L2filteredImages[a.selectedItems[r].L2filters[C][0]].push&&a.L2filteredImages[a.selectedItems[r].L2filters[C][0]].push(a.selectedItems[r]);r=c("#jig"+a.instance+"-L2filter"+a.L2filterType+"s .jig-filter"+a.L2filterType+'[data-filter-slug="all-items-nofilter"]');0<r.length&&c("#jig"+a.instance+"-L2filter"+a.L2filterType+"s .jig-filter"+a.L2filterType).first().attr("data-filter-slug")!==r.attr("data-filter-slug")&&r.parent().prepend(r);if("tags"==a.L2filterStyle){for(D in a.L2filters)q(a.L2filters,
D)&&c("#jig"+a.instance+"-L2filter"+a.L2filterType+'s .jig-filterTag[data-filter-slug="'+D+'"]').attr("rel",a.L2filteredImages[D].length);c.fn.tagcloud.defaults={size:{start:a.filterSmallestSize,end:a.filterLargestSize,unit:"px"},color:{start:a.filterSmallestColor,end:a.filterLargestColor}};0<r.length?(r.css({"font-size":a.filterLargestSize,color:a.filterLargestColor}),c("#jig"+a.instance+"-L2filter"+a.L2filterType+"s .jig-filter"+a.L2filterType+":gt(0)").tagcloud()):c("#jig"+a.instance+"-L2filter"+
a.L2filterType+"s .jig-filter"+a.L2filterType).tagcloud()}c("#jig"+a.instance+"-L2filter"+a.L2filterType+"s").on("click",".jig-filter"+a.L2filterType,Q)}Q()}else t.createGallery();var R;c(window).resize(function(){"undefined"!==typeof R&&clearTimeout(R);R=setTimeout(function(){t.createGallery("resize")},100)})};t.createGallery=function(b){if(!1===c.JIGjQueryMinVersion("1.7"))return JIGjQueryMinVersion("1.7",!0),!1;var d=Math.round(a.element.width()),g=c(window).width();if(void 0===a.fixedWidth)if(a.element.css("width",
"").css("width",Math.round(a.element.width())),0===a.element.width())if(void 0===a.fallbackWidth)if(0!==d&&g==a.lastWindowWidth)a.element.css("width",d+"px");else{var f=0;a.element.parents().each(function(b,d){var e=c(d),k=c(d).parent(),l=e.width();if(e.is(":visible")&&0!==l)return a.element.css("width",l-f+"px"),"undefined"==typeof k.data("jigAddedTabsHandler")&&(k.on("click",function(a){g!==c(window).width()&&k.find(".justified-image-grid").each(function(){var a=c(this);a.is(":visible")&&a.data("justifiedImageGrid").createGallery("resize")})}),
k.data("jigAddedTabsHandler",!0)),!1;f+=e.outerWidth(!0)-e.width()})}else a.element.css("width",a.fallbackWidth+"px");else 1E4<a.element.width()&&(a.element.css("width",g),c(window).on("load",function(){t.createGallery("resize")}));else a.element.css("width","").css("width",a.fixedWidth);d=Math.round(a.element.width());if(9>d)10<a.retryCount?a.element.find(".jig-clearfix").html("The element is invisible or too thin, upon page loading. In case of using tabs, try a Custom width in the General settings and you may also use a fixed width. (Justified Image Grid)"):
a.retryBuilding=setTimeout(function(){a.retryCount++;t.createGallery()},100);else{a.retryBuilding&&clearTimeout(a.retryBuilding);a.element.find(".jig-clearfix").empty();a.justResized=!1;if("resize"===b){if(a.areaWidth&&a.areaWidth==d)return;a.justResized=!0}a.element.find(".jig-overflow a *:not(div)").off();a.areaWidth=d;a.row=[];a.fullWidth=a.extra=0;a.rows=[];a.unshifts=[];a.screenHeight=c(window).height();a.screenHeightLimitRatio=Math.min(a.screenHeight/a.originalMaxHeight,1);if(a.prevScreenHeightLimitRatio!==
a.screenHeightLimitRatio){1>a.screenHeightLimitRatio?(a.maxHeight=a.screenHeight,a.targetHeight=Math.round(a.maxHeight-a.heightDeviation*a.screenHeightLimitRatio),a.minHeight=50!=a.minHeight?Math.round(a.targetHeight-a.heightDeviation*a.screenHeightLimitRatio):50,a.defaultHeightRatio=a.targetHeight/a.maxHeight):(a.maxHeight=a.originalMaxHeight,a.targetHeight=a.originalTargetHeight,a.minHeight=a.originalMinHeight,a.defaultHeightRatio=a.originalDefaultHeightRatio);if(-1!=a.prevScreenHeightLimitRatio||
1!=a.screenHeightLimitRatio)for(var e in a.selectedItems)q(a.selectedItems,e)&&("undefined"===typeof a.selectedItems[e].originalWidth&&(a.selectedItems[e].originalWidth=a.selectedItems[e].width),a.selectedItems[e].width=Math.round(a.selectedItems[e].originalWidth*a.screenHeightLimitRatio));a.prevScreenHeightLimitRatio=a.screenHeightLimitRatio}a.items=a.selectedItems.slice();if(!0===a.errorChecked&&!1===a.justResized){for(var l in a.items)if(q(a.items,l)&&-1!=c.inArray(void 0===a.items[l].photon?void 0===
a.items[l].thumbUrl?a.items[l].url:a.items[l].thumbUrl:a.items[l].photon,a.errorImages)&&(e=a.items[l],a.items.splice(l,1),a.filters)){d=c("#jig"+a.instance+"-filterButtons .jig-filterButtonSelected").attr("data-filter-slug");a.filteredImages[d]=a.items.slice();d=1;for(var k=a.filters.length;d<k;d+=1)for(var u=0,h=a.filteredImages[a.filters[d][0]].length;u<h;u+=1){var z=c.inArray(e,a.filteredImages[a.filters[d][0]]);-1!=z&&a.filteredImages[a.filters[d][0]].splice(z,1)}}a.selectedItems=a.items.slice();
a.errorImages=[];if(0===a.selectedItems.length){a.timThumbError='<a href="http://justifiedgrid.com/support/fix/all-of-the-images-have-failed-to-load/" target="_blank" rel="external nofollow" style="border-style:none; text-decoration: none; font-weight: bold;"><div style="background-color: #212121; color: white; padding: 10px; display: inline-block;">JIG</div><div style="background-color: #b71c1c; color:white; color: rgba(255, 255, 255, 0.87); padding: 10px; display: inline-block;">All of the images have failed to load. Please click here to reach the troubleshooting fix.</div></a>';
a.element.html(a.timThumbError);return}a.errorChecked=!1}if(""===a.maxRows||0===a.maxRows)a.maxRows=1E3;a.rowcount=0;a.imagesShown=0;""!==a.initiallyLoad&&"off"!==a.loadMore&&0===a.loadMoreCounter&&(a.limit=parseInt(a.initiallyLoad,10));for(a.whileUntil=0===a.limit?0:a.limit<a.selectedItems.length?a.items.length-a.limit:0;a.items.length>a.whileUntil&&a.rowcount<a.maxRows;)l=aa(),!1!==l&&(a.rows.push(l),a.rowcount++);a.imagesShown+=a.selectedItems.length-a.items.length;a.element.find(".jig-imageContainer:gt("+
(a.imagesShown-1)+")").remove();a.imagesAlreadyAdded=a.element.find(".jig-imageContainer").length;d=l=0;for(k=a.rows.length;d<k;d+=1)for(u=0,h=a.rows[d].length;u<h;u+=1)l++,e=a.rows[d][u],e.container&&l<=a.imagesAlreadyAdded?ba(e,a.rows[d].length,u):ca(e,a.rows[d].length,u);if("links-off"!==a.lightbox&&"no"!==a.lightbox&&"new_tab"!==a.lightbox&&""!==a.linkrel){for(;0<a.unshifts.length;)e=a.unshifts.shift(),void 0===e.linkContainer?T(e):a.currentHiddenLink=e.linkContainer;for(;0<a.items.length;)e=
a.items.shift(),void 0===e.linkContainer?T(e):a.currentHiddenLink=e.linkContainer;a.currentHiddenLink=void 0}void 0===a.fixedWidth&&(a.element.css("width","").css("width",Math.round(a.element.width())),0===a.element.width()&&a.element.css("width",a.areaWidth+"px"));c("img",a.element).not(".jig-hiddenImg").on("load",function(){if(this.complete||void 0!==this.naturalWidth&&0!==this.naturalWidth||void 0!==this.readyState&&("complete"===this.readyState||4===this.readyState)||I){var b=c(this).closest("a"),
d=c(this).closest(".jig-overflow");0!==b.length&&!0!==b.hasClass("jig-loaded")&&(b.addClass("jig-loaded"),"0"===d.css("opacity")&&d.css("opacity",1),"off"!=a.specialFx&&c(this).clone().addClass("jig-pixastic").insertAfter(c(this)).on("load",U).each(function(){(this.complete||void 0!==this.naturalWidth&&0!==this.naturalWidth||void 0!==this.readyState&&("complete"===this.readyState||4===this.readyState))&&c(this).trigger("load")}));c(this).off("load")}else"yes"==a.errorChecking&&(b=/(?:\?src=)(.*)(?:&h=)|^(https?:\/\/.+?wp\.com.*)$/g.exec(c(this).attr("src")),
null!==b?void 0!==b[1]?a.errorImages.push(b[1]):void 0!==b[2]&&a.errorImages.push(b[2]):a.errorImages.push(c(this).attr("src")),c(this).closest(".jig-imageContainer").addClass("jig-unloadable"),V())}).on("error",function(){if("yes"==a.errorChecking){var b=/(?:\?src=)(.*)(?:&h=)|^(https?:\/\/.+?wp\.com.*)$/g.exec(c(this).attr("src"));null!==b?void 0!==b[1]?a.errorImages.push(b[1]):void 0!==b[2]&&a.errorImages.push(b[2]):a.errorImages.push(c(this).attr("src"));c(this).closest(".jig-imageContainer").addClass("jig-unloadable");
V()}}).each(function(){(this.complete||void 0!==this.naturalWidth&&0!==this.naturalWidth||void 0!==this.readyState&&("complete"===this.readyState||4===this.readyState))&&c(this).trigger("load")});"resize"!==b?W():"prettyphoto"==a.lightbox&&"undefined"!==typeof jigReCallPrettyPhotoAfterPossibleResize?setTimeout(function(){window[a.lightboxInit]();jigReCallPrettyPhotoAfterPossibleResize=void 0},10):a.visibleImageCount!=c(".jig-imageContainer",a.element).length&&W();if("click"==a.loadMore||"scroll"==
a.loadMore||"hybrid"==a.loadMore||"once"==a.loadMore)a.loadMoreButton=a.element.find(".jig-loadMoreButton"),b=a.selectedItems.length-a.limit,l=a.element.find(".jig-hiddenLink").length,1==a.loadMoreButton.length?0<b?(a.loadMoreButton.find(".jig-loadMoreButton-count").text(0!==l?l:b),"yes"===a.loadMoreAutoWidth&&a.loadMoreButton.css("width",a.loadMoreButton.find(".jig-loadMoreButton-inner").width())):a.loadMoreButton.remove():0<b&&(e="",a.loadMoreCountText&&"none"!==a.loadMoreCountText&&(e=a.loadMoreCountText,
e=e.replace("*count*",'<span class="jig-loadMoreButton-count">'+(0!==l?l:b)+"</span>")),a.loadMoreButton=c('<div class="jig-loadMoreButton"><span class="jig-loadMoreButton-inner">'+a.loadMoreText+(""!==e?"<br />"+e:"")+"</span></div>"),a.element.find(".jig-clearfix").after(a.loadMoreButton),"yes"===a.loadMoreAutoWidth&&a.loadMoreButton.css("width",a.loadMoreButton.find(".jig-loadMoreButton-inner").width())),"scroll"!=a.loadMore&&"hybrid"!=a.loadMore||c(window).scroll(function(){if(("scroll"==a.loadMore||
"hybrid"==a.loadMore&&0<a.loadMoreCounter)&&0<a.selectedItems.length-a.limit){var b=a.element.find(".jig-loadMoreButton").offset();c(window).scrollTop()>=b.top-parseInt(a.loadMoreOffset,10)-c(window).height()&&y()}});if("no"!==a.wrapText){b=a.element.find(".jig-imageContainer:last");0===a.element.find(".jig-flowSpacer").length&&a.element.find(".jig-imageContainer:last").after('<div class="jig-flowSpacer"></div>').next().css({width:"1px",height:b.height()+3,"float":"ltr"==a.readingDirection?"left":
"right"});var n=a.element.find(".jig-flowSpacer");setTimeout(function(){"ltr"==a.readingDirection?a.element.offset().left==n.offset().left?n.css("margin-right",0):n.css("margin-right",2*a.margins):a.element.offset().left==n.offset().left?n.css("margin-left",0):n.css("margin-left",2*a.margins)},1)}"yes"!=a.customFonts||"off"===a.caption||"below"!=a.caption&&"off"===a.verticalCenterCaptions&&"captions"!=a.specialFx||S(!0);a.prevInstanceID="#jig"+(a.instance-1);c(window).width()!=g||a.areaWidth!=Math.round(a.element.width())?
(a.resizeCount++,1<a.resizeCount&&a.element.css("min-height",a.element.height()),t.createGallery("resize"),1<a.instance&&0!==c(a.prevInstanceID).length&&c(a.prevInstanceID).data("justifiedImageGrid").createGallery("resize"),a.element.css("min-height","")):(1<a.instance&&0!==c(a.prevInstanceID).length&&(a.prevInstanceData=c(a.prevInstanceID).data("justifiedImageGrid"),a.prevInstanceData.s.element.css("width","").css("width",a.prevInstanceData.s.element.width()),a.prevInstanceData.s.areaWidth!=a.prevInstanceData.s.element.width()&&
a.prevInstanceData.createGallery("resize")),a.resizeCount=0,a.lastWindowWidth=g,a.visibleImageCount=c(".jig-imageContainer",a.element).length)}};var S=function(b){!0!==b&&(b="captions"==a.specialFx?!0:!1);a.element.find(".jig-imageContainer").each(function(d,g){var f=c(g);if("off"!==a.verticalCenterCaptions){var e=f.find(".jig-caption-wrapper");var l=e.filter(".jig-cw-role-real"),k=l.height(),u=l.find(".jig-caption"),h="mixed"==a.caption||"reverse-mixed"==a.caption?l.find(".jig-caption-description-wrapper"):
!1;"slide"!=a.caption&&"reverse-slide"!=a.caption||!u.is(":animated")?"mixed"!=a.caption&&"reverse-mixed"!=a.caption||!h.is(":animated")?(0===k&&(u.css({opacity:0,display:"block"}),k=l.height(),u.removeAttr("style")),!0===b?e.css({bottom:"auto",top:Math.round(l.closest(".jig-imageContainer").height()/2-k/2)}):e.css({bottom:"auto"}).animate({top:Math.round(l.closest(".jig-imageContainer").height()/2-k/2)},a.animSpeed,"JIGeaseInOutQuad")):h.promise().done(function(){k=l.height();var b=h.height();"mixed"==
a.caption&&0!==b?(h.css({display:"none"}),k=l.height(),h.css({display:"block"})):"reverse-mixed"==a.caption&&0===b&&(h.css({display:"block"}),k=l.height(),h.css({display:"none"}));e.css({bottom:"auto"}).animate({top:Math.round(l.closest(".jig-imageContainer").height()/2-k/2)},a.animSpeed,"JIGeaseInOutQuad")}):u.promise().done(function(){k=l.height();0===k&&(u.css({opacity:0,display:"block"}),k=l.height(),u.removeAttr("style"));e.css({bottom:"auto"}).animate({top:Math.round(l.closest(".jig-imageContainer").height()/
2-k/2)},a.animSpeed,"JIGeaseInOutQuad")})}"below"==a.caption&&X(f,!0);"captions"==a.specialFx&&(L&&"no"!==a.captionMatchWidth&&f.find(".jig-caption-title, .jig-caption-wrapper").each(function(){var a=c(this),b=a.css("width","")[0].getBoundingClientRect().width;0!==b%2&&(b=Math.ceil(b),a.css({width:0!==b%2?b+1:b}))}),e=e?e:f.find(".jig-caption-wrapper"),N(M(e)))})},W=function(){switch(a.lightbox){case "prettyphoto":case "colorbox":case "magnific":case "photoswipe":case "photoswipe3":case "foobox":case "custom":window[a.lightboxInit]();
break;case "links-off":a.element.find("a").css("cursor","default");a.element.on("click","a",function(a){a.preventDefault()});c(a.element).on("click","a",function(a){2===a.which&&a.preventDefault()});break;case "socialgallery":try{socialGalleryBind()}catch(b){}}},Q=function(b){var d=c(this),g=d.attr("data-filter-slug"),f=!1,e;"undefined"===typeof b&&(d=!1!==a.filters?c("#jig"+a.instance+"-filter"+a.filterType+"s .jig-filter"+a.filterType).first():c("#jig"+a.instance+"-L2filter"+a.L2filterType+"s .jig-filter"+
a.L2filterType).first(),g=d.attr("data-filter-slug"));var l=d.parent().attr("data-filter-level");if(1==l){if("no"==a.filterMultiple||"all-items-nofilter"==g)!1===d.hasClass("jig-filter"+a.filterType+"Selected")&&(d.siblings(".jig-filter"+a.filterType+"Selected").removeClass("jig-filter"+a.filterType+"Selected"),d.addClass("jig-filter"+a.filterType+"Selected"),a.selectedItems=a.filteredImages[g],f=!0);else{f=d.parent().find(".jig-filter"+a.filterType+"Selected").length;1==f&&"all-items-nofilter"==
d.siblings(".jig-filter"+a.filterType+"Selected").attr("data-filter-slug")&&d.siblings(".jig-filter"+a.filterType+"Selected").removeClass("jig-filter"+a.filterType+"Selected");if(!1===d.hasClass("jig-filter"+a.filterType+"Selected"))d.addClass("jig-filter"+a.filterType+"Selected"),f++;else{if(1==f)if("all-items-nofilter"==c("#jig"+a.instance+"-filter"+a.filterType+"s .jig-filter"+a.filterType).first().attr("data-filter-slug"))c("#jig"+a.instance+"-filter"+a.filterType+"s .jig-filter"+a.filterType).first().click().addClass("jig-filter"+
a.filterType+"Selected");else return;d.removeClass("jig-filter"+a.filterType+"Selected");f--}var k=[];d.parent().find(".jig-filter"+a.filterType+"Selected").each(function(){k.push(c(this).attr("data-filter-slug"))});g=k.toString();if("undefined"===typeof a.filteredImages[g]){a.filteredImages[g]=[];var h=0;var p=a.allItems.length;for(f=0;f<p;f+=1)if(a.allItems[f].filters){h=0;var m=a.allItems[f].filters.length;for(e=0;e<m;e+=1)"or"==a.filterMultiple?-1<c.inArray(a.allItems[f].filters[e][0],k)&&-1==
c.inArray(a.allItems[f],a.filteredImages[g])&&a.filteredImages[g].push(a.allItems[f]):(-1<c.inArray(a.allItems[f].filters[e][0],k)&&h++,h==k.length&&-1==c.inArray(a.allItems[f],a.filteredImages[g])&&a.filteredImages[g].push(a.allItems[f]))}}a.selectedItems=a.filteredImages[g];f=!0}f&&a.L2filters&&(a.L1selectedItems=a.selectedItems)}if(a.L2filters){"undefined"===typeof b&&(d=c("#jig"+a.instance+"-L2filter"+a.L2filterType+"s .jig-filter"+a.L2filterType).first(),l=d.parent().attr("data-filter-level"));
if(2==l)if("no"==a.L2filterMultiple||"all-items-nofilter"==g)d.siblings(".jig-filter"+a.L2filterType+"Selected").removeClass("jig-filter"+a.L2filterType+"Selected"),d.addClass("jig-filter"+a.L2filterType+"Selected");else if(b=d.parent().find(".jig-filter"+a.L2filterType+"Selected").length,1==b&&"all-items-nofilter"==d.siblings(".jig-filter"+a.L2filterType+"Selected").attr("data-filter-slug")&&d.siblings(".jig-filter"+a.L2filterType+"Selected").removeClass("jig-filter"+a.L2filterType+"Selected"),!1===
d.hasClass("jig-filter"+a.L2filterType+"Selected"))d.addClass("jig-filter"+a.L2filterType+"Selected"),b++;else{if(1==b)if("all-items-nofilter"==c("#jig"+a.instance+"-L2filter"+a.L2filterType+"s .jig-filter"+a.L2filterType).first().attr("data-filter-slug"))c("#jig"+a.instance+"-L2filter"+a.L2filterType+"s .jig-filter"+a.L2filterType).first().click().addClass("jig-filter"+a.L2filterType+"Selected");else return;d.removeClass("jig-filter"+a.L2filterType+"Selected");b--}var n=[];c("#jig"+a.instance+"-L2filter"+
a.L2filterType+"s .jig-filter"+a.L2filterType+"Selected").each(function(){n.push(c(this).attr("data-filter-slug"))});g=[];a.filters&&c("#jig"+a.instance+"-filter"+a.filterType+"s .jig-filter"+a.filterType+"Selected").each(function(){g.push(c(this).attr("data-filter-slug"))});d=g.concat(n).toString();!1===a.filters&&(a.L1selectedItems=a.allItems);if("undefined"===typeof a.filteredImages[d])if(1==n.length&&"all-items-nofilter"==n[0])a.filteredImages[d]=a.L1selectedItems,a.selectedItems=a.filteredImages[d];
else for(a.filteredImages[d]=[],b=0,p=a.L1selectedItems.length,f=0;f<p;f+=1)if(a.L1selectedItems[f].L2filters)for(b=0,m=a.L1selectedItems[f].L2filters.length,e=0;e<m;e+=1)"or"==a.L2filterMultiple?-1<c.inArray(a.L1selectedItems[f].L2filters[e][0],n)&&-1==c.inArray(a.L1selectedItems[f],a.filteredImages[d])&&a.filteredImages[d].push(a.L1selectedItems[f]):(-1<c.inArray(a.L1selectedItems[f].L2filters[e][0],n)&&b++,b==n.length&&-1==c.inArray(a.L1selectedItems[f],a.filteredImages[d])&&a.filteredImages[d].push(a.L1selectedItems[f]));
a.selectedItems=a.filteredImages[d];f=!0}if(f){a.element.find(".jig-imageContainer, .jig-hiddenLink").remove();d=0;for(b=a.selectedItems.length;d<b;d+=1)a.selectedItems[d].linkContainer=void 0;t.createGallery("filter")}},aa=function(){a.row=[];a.validRow=!0;a.fullWidth=0;for(a.extra=0;a.items.length>a.whileUntil&&a.extra<a.areaWidth;){var b=a.items.shift();b.newHeight=b.newWidth=b.containerHeight=b.containerWidth=b.marLeft=void 0;b.ratio=b.width/a.maxHeight;a.row.push(b);a.fullWidth+=Math.round(b.width*
a.defaultHeightRatio)+a.margins+a.bordersTotal;a.extra=a.fullWidth-a.margins}a.extra-=a.areaWidth;if(0<a.row.length&&0<a.extra||0===a.rows.length&&a.items.length>a.whileUntil){b="landscape";for(var d=0,g=a.row.length;d<g;d+=1)if(1>a.row[d].ratio){b="portrait";break}"landscape"==b?Y():"yes"!==a.disableCropping?A():Y()}else if(0<a.rows.length&&a.items.length==a.whileUntil){switch(a.incompleteLastRow){case "flexible":A("flexible");break;case "flexible-center":A("flexible-center");break;case "hide":A("hide");
break;case "flexible-match":"off"!==a.loadMore&&0>=a.selectedItems.length-a.limit?E():A("flexible");break;case "flexible-match-center":"off"!==a.loadMore&&0>=a.selectedItems.length-a.limit?E("center"):A("flexible-center");break;case "match":E();break;case "match-center":E("center");break;case "center":A("center");break;default:A("lastRow")}if(!0!==a.validRow)return a.imagesShown-=a.row.length,a.unshifts=a.row,a.whileUntil+=a.unshifts.length,!1}else"center"!==a.incompleteLastRow&&"match-center"!==
a.incompleteLastRow&&"flexible-match-center"!==a.incompleteLastRow?A("lastRow"):A("center");return a.row},E=function(b){var d=0;var g=0;for(var c=a.rows.length;g<c;g+=1)d=g;if(void 0===a.rows[d]||void 0===a.rows[d][0])A("lastRow");else{g=a.rows[d][0].containerHeight?a.rows[d][0].containerHeight:a.rows[d][0].newHeight;a.marginsTotal=(a.row.length-1)*a.margins+a.row.length*a.bordersTotal;c=a.rowlen=0;for(var e=a.row.length;c<e;c+=1)void 0!==a.rows[d][c]&&a.row[c].width==a.rows[d][c].width?(a.row[c].newHeight=
a.rows[d][c].newHeight,a.row[c].containerHeight=a.rows[d][c].containerHeight,a.row[c].newWidth=a.rows[d][c].newWidth,a.row[c].containerWidth=a.rows[d][c].containerWidth,a.row[c].marLeft=a.rows[d][c].marLeft):(a.row[c].newHeight=g,a.row[c].newWidth=Math.round(a.row[c].newHeight*a.row[c].ratio)),a.rowlen+=a.row[c].newWidth,"undefined"!==typeof a.row[c].marLeft&&(a.rowlen-=2*a.row[c].marLeft);g>a.targetHeight&&(a.remaining=a.rowlen+a.marginsTotal-a.areaWidth,0<a.remaining&&O());"undefined"!==typeof b&&
a.rowlen+a.marginsTotal<a.areaWidth&&(a.row[0].spaceLeft=Math.floor(.5*(a.areaWidth-a.rowlen-a.marginsTotal)))}},Y=function(){var b=!0;a.marginsTotal=(a.row.length-1)*a.margins+a.row.length*a.bordersTotal;a.rowlen=0;a.heights=[];for(var d=0,c=a.row.length;d<c;d+=1){var f=Math.round(a.row[d].width*a.defaultHeightRatio);a.row[d].newWidth=f-Math.round((f+a.marginsTotal/a.row.length)/a.fullWidth*a.extra);a.heights[d]=a.row[d].newWidth/a.row[d].ratio;if(a.heights[d]<a.minHeight){A();return}a.heights[d]>
a.maxHeight?(a.row[d].newHeight=a.targetHeight,a.row[d].newWidth=Math.round(a.row[d].newHeight*a.row[d].ratio),b=!1):(a.row[d].newHeight=a.heights[d],a.rowlen+=a.row[d].newWidth)}b&&(a.remaining=a.rowlen+a.marginsTotal-a.areaWidth,O())},A=function(b){var d=!0;if(1!=a.row.length&&void 0===b){var c=a.row.pop();a.fullWidth-=Math.round(c.width*a.defaultHeightRatio)+a.margins+a.bordersTotal;a.items.unshift(c);a.extra=a.fullWidth-a.margins;a.extra-=a.areaWidth}a.marginsTotal=(a.row.length-1)*a.margins+
a.row.length*a.bordersTotal;a.rowlen=0;a.heights=[];c=0;for(var f=a.row.length;c<f;c+=1){var e=Math.round(a.row[c].width*a.defaultHeightRatio);a.row[c].newWidth=e-Math.round((e+a.marginsTotal/a.row.length)/a.fullWidth*a.extra);a.heights[c]=a.row[c].newWidth/a.row[c].ratio;if(a.heights[c]>a.maxHeight){if(void 0===b){b=a.items.shift();a.row.push(b);a.fullWidth+=Math.round(b.width*a.defaultHeightRatio)+a.margins+a.bordersTotal;a.extra=a.fullWidth-a.margins;a.extra-=a.areaWidth;Z();return}"off"!==a.loadMore&&
0>=a.selectedItems.length-a.limit&&("flexible"==b?b="lastRow":"flexible-center"==b&&(b="center"));if("lastRow"==b){b=0;for(d=a.row.length;b<d;b+=1)a.row[b].newHeight=a.targetHeight,a.row[b].newWidth=Math.round(a.row[b].newHeight*a.row[b].ratio);return}if("center"==b){d=b=0;for(c=a.row.length;d<c;d+=1)a.row[d].newHeight=a.targetHeight,a.row[d].newWidth=Math.round(a.row[d].newHeight*a.row[d].ratio),b+=a.row[d].newWidth;a.row[0].spaceLeft=Math.floor(.5*(a.areaWidth-b-a.marginsTotal));return}a.validRow=
!1;a.row[c].newWidth=void 0;d=!1}else if(a.heights[c]<a.minHeight&&void 0===b){Z();return}void 0!==a.row[c].newWidth&&(a.row[c].newHeight=a.heights[c],a.rowlen+=a.row[c].newWidth)}d&&(a.remaining=a.rowlen+a.marginsTotal-a.areaWidth,O())},O=function(){if(0!==a.remaining)if(0<a.remaining)for(;0<a.remaining;)for(var b=0,d=a.row.length;b<d&&(a.row[b].newWidth--,a.row[b].newHeight=a.heights[b]=a.row[b].newWidth/a.row[b].ratio,a.remaining--,0!==a.remaining);b+=1);else for(;0>a.remaining;)for(b=0,d=a.row.length;b<
d&&(a.row[b].newWidth++,a.row[b].newHeight=a.heights[b]=a.row[b].newWidth/a.row[b].ratio,a.remaining++,0!==a.remaining);b+=1);b=Math.floor(Math.min.apply(null,a.heights));d=0;for(var c=a.row.length;d<c;d+=1)a.row[d].containerHeight=b,a.row[d].newHeight=Math.round(a.row[d].newHeight)},Z=function(){var b=[],d=0;a.marginsTotal=(a.row.length-1)*a.margins+a.row.length*a.bordersTotal;for(var c=0,f=a.row.length;c<f;c+=1){var e=a.row[c],l=Math.round(a.row[c].width*a.defaultHeightRatio);e.newHeight=a.targetHeight;
e.newWidth=l;b[c]=Math.round((l+a.marginsTotal/a.row.length)/a.fullWidth*a.extra);d+=b[c]}d=a.extra-d;if(0!==d)if(0<d)for(;0<d;)for(c=0,f=b.length;c<f&&(b[c]++,d--,0!==d);c+=1);else for(;0>d;)for(c=0,f=b.length;c<f&&(b[c]--,d++,0!==d);c+=1);d=0;for(c=a.row.length;d<c;d+=1)f=b[d],e=a.row[d],e.marLeft=Math.round(f/2),e.containerWidth=e.newWidth-f},ca=function(b,d,g){if(isNaN(b.newWidth)||!b.width)return!1;void 0!==b.linkContainer&&(c(b.linkContainer).remove(),b.linkContainer=void 0);"undefined"===typeof b[a.linkTitleField]&&
(b[a.linkTitleField]="");"undefined"===typeof b[a.imgAltField]&&(b[a.imgAltField]="");"undefined"===typeof b[a.titleField]&&(b[a.titleField]="");"undefined"===typeof b[a.captionField]&&(b[a.captionField]="");"undefined"===typeof b.gallery&&(b.gallery="");var f="";b.carousel_data?(b.carousel_data=" "+b.carousel_data+" ",f=" tiled-gallery-item"):b.carousel_data="";b.extra_class&&(f+=" "+b.extra_class);b.off="";b.url=b.url;f=c('<div class="jig-imageContainer'+f+'"/>');var e=c('<div class="jig-overflow"/>'),
l=b.url,k=b.link_target?b.link_target:"_self",h=a.linkClass,t=a.linkRel;var p=!0;""!==b.gallery&&(f.append(b.gallery.html),t=' rel="'+b.gallery.rel+'" ',f.addClass(b.gallery.lightbox_class),f.attr("id",b.gallery.id));!b.link||(l=b.link,"video"!==k&&"videoplayer"!==k?(h="foobox"!==k?'target="'+k+'" '+h.replace("jig-link","jig-customLink"):'target="'+k+'" '+h.replace("jig-link",""),t=b.link_rel?'rel="'+b.link_rel+'"':""):"magnific"==a.lightbox&&-1==h.indexOf("mfp-")&&(h=h.replace("jig-link","jig-link mfp-iframe")),
"videoplayer"!=k&&"foobox"!=k)||-1===l.indexOf("&poster=")&&-1===l.indexOf("|poster=")||(p=!1);if(!0===p&&(l=(l+"").replace(/\+/g,"%20"),"https%3A%2F%2F"===l.substr(0,14)||"http%3A%2F%2F"===l.substr(0,13)))try{l=decodeURIComponent(l)}catch(ea){}p=b[a.linkTitleField];k=b[a.imgAltField];if(b.download)if("yes"==a.downloadLink){var n=(0!==p.length?a.separatorCharacter:"")+b.download;p+=n}else"alt"==a.downloadLink&&(n=(0!==k.length?a.separatorCharacter:"")+b.download,k+=n);b.lightbox_link&&("yes"==a.lightboxLink?
(n=(0!==p.length?a.separatorCharacter:"")+b.lightbox_link,p+=n):"alt"==a.lightboxLink&&(n=(0!==k.length?a.separatorCharacter:"")+b.lightbox_link,k+=n));""!==p&&(p='title="'+p+'" ');""!==k&&(k='alt="'+k+'" ');"new_tab"==a.lightbox&&(h='target="_blank" ');n=a.linkAttribute;b.extra_class&&(n=n.replace("*content*",b.extra_class.replace(/.*jig-contentID-[A-Z]{2}-(\d+).*/mg,"$1")));l=c("<a "+h+t+n+p+(b.wh?'data-wh="'+b.wh+'" ':"")+'href="'+("links-off"!=a.lightbox?l:"#")+'" />');h=c("<img "+k+b.carousel_data+
"/>");b.carousel_data&&b.download&&("yes"==a.downloadLink?(n=(0!==h.attr("data-image-title").length?a.separatorCharacter:"")+c("<textarea />").html(b.download).val(),h.attr("data-image-title",h.attr("data-image-title")+n)):"alt"==a.downloadLink&&(n=(0!==h.attr("data-image-description").length?"<br />":"")+c("<textarea />").html(b.download).val(),h.attr("data-image-description",h.attr("data-image-description")+n)));"undefined"!==typeof b.geo&&h.attr("data-geo",b.geo);g==d-1&&f.addClass("jig-last");
e.css("width",(b.containerWidth?b.containerWidth:b.newWidth)+"px");e.css("height",(b.containerHeight?b.containerHeight:b.newHeight)+"px");b.photon?h.attr("src",decodeURIComponent((b.photon+"").replace(/\+/g,"%20"))):(d=b.thumbUrl?b.thumbUrl:b.url,g=a.originalMaxHeight,t="","normal"==a.thumbnailFilename&&(k=/.*\.(jpe?g|gif|bmp|png|webp)/im.exec(d),null!==k&&(t="&f=."+k[1])),a.aspectRatio||a.randomizeWidth?(k=a.maxWidth,""!==a.randomizeWidth&&(k="undefined"!==typeof b.originalWidth?b.originalWidth:
b.width),"yes"==a.retinaReady&&(g=Math.floor(g*a.devicePixelRatio),k=Math.floor(k*a.devicePixelRatio)),h.attr("src",a.timthumb+"?src="+d+"&h="+g+"&w="+k+"&q="+a.quality+a.cropZone+t)):"yes"==a.retinaReady?(g=Math.floor(g*a.devicePixelRatio),k=Math.floor(("undefined"!==typeof b.originalWidth?b.originalWidth:b.width)*a.devicePixelRatio),h.attr("src",a.timthumb+"?src="+d+"&h="+g+"&w="+k+"&q="+a.quality+a.cropZone+t)):h.attr("src",a.timthumb+"?src="+d+"&h="+g+"&q="+a.quality+a.cropZone+t));h.attr("width",
b.newWidth).css("width",b.newWidth+"px");h.attr("height",b.newHeight).css("height",b.newHeight+"px");b.marLeft&&h.css("margin-left",-b.marLeft+"px");("center"==a.incompleteLastRow||"flexible-center"==a.incompleteLastRow||"flexible-match-center"==a.incompleteLastRow||"match-center"==a.incompleteLastRow)&&b.spaceLeft&&0<b.spaceLeft&&(f.css("ltr"==a.readingDirection?"margin-left":"margin-right",b.spaceLeft+"px"),b.spaceLeft=0);h.css("margin-top",0);l.append(h);"off"!==a.overlay&&l.append('<div class="jig-overlay-wrapper"><div class="jig-overlay"></div></div>'+
("on"===a.overlayIcon?'<div class="jig-overlay-icon-wrapper"><div class="jig-overlay-icon"></div></div>':""));"off"!==a.caption&&(""!==b.gallery&&(b[a.titleField]="undefined"!==typeof b.gallery[a.titleField]&&""!==b.gallery[a.titleField]&&" "!==b.gallery[a.titleField]?b.gallery[a.titleField]:"",b[a.captionField]="undefined"!==typeof b.gallery[a.captionField]&&""!==b.gallery[a.captionField]&&" "!==b.gallery[a.captionField]?b.gallery[a.captionField]:""),d="",""!==b[a.titleField]&&" "!==b[a.titleField]&&
(d+='<div class="jig-caption-title">'+m(b[a.titleField],"<br><hr><em><strong><mark><i><b><font><span><ul><ol><li>")+"</div>"),""!==b[a.captionField]&&" "!==b[a.captionField]&&(d+='<div class="jig-caption-description-wrapper"><div class="jig-caption-description'+(""!==d?"":" jig-alone")+'">'+m(b[a.captionField],"<br><hr><em><strong><mark><i><b><font><span><ul><ol><li>")+"</div></div>"),""!==d?(b.$captionWrapper=c('<div class="jig-caption-wrapper jig-cw-role-real"><div class="jig-caption">'+d+"</div></div>"),
"below"!==a.caption?l.append(b.$captionWrapper):0!==a.middleBorderWidth&&"always"==a.innerBorder&&"always"!==a.middleBorder?f.append(b.$captionWrapper.width(e.width()-2*parseFloat(a.innerBorderWidth))):f.append(b.$captionWrapper.css({width:e.css("width")}))):"below"==a.caption&&(b.$captionWrapper=c('<div class="jig-caption-wrapper"></div>'),0!==a.middleBorderWidth&&"always"==a.innerBorder&&"always"!==a.middleBorder?f.append(b.$captionWrapper.width(e.width()-2*parseFloat(a.innerBorderWidth))):f.append(b.$captionWrapper.css({width:e.css("width")}))));
0===a.bordersTotal&&0===a.innerBorderWidth||l.append('<div class="jig-border"></div>');e.append(l);b.carousel_data&&b.caption&&e.append('<div class="tiled-gallery-caption">'+m(b.caption)+"</div>");f.prepend(e);a.element.find(".jig-clearfix").before(f);"off"!==a.caption&&("below"==a.caption?X(f):"captions"==a.specialFx&&(g=f.find(".jig-cw-role-real"),0!==g.length&&(d="no"==a.captionMatchWidth||a.captionMatchWidthForceNo?c(g[0].cloneNode(!1)):g.clone(),d.removeClass("jig-cw-role-real").addClass("jig-cw-role-effect"),
"off"!==a.overlay?f.find(".jig-overlay-wrapper").before(d):g.before(d))));b.container=f;b.overflow=e;b.img=h;b.linkElement=l;return f},ba=function(b,d,c){c==d-1?b.container.addClass("jig-last"):b.container.removeClass("jig-last");c=b.overflow;d=b.img;c.css("width",(b.containerWidth?b.containerWidth:b.newWidth)+"px").width();c.css("height",(b.containerHeight?b.containerHeight:b.newHeight)+"px");d.attr("width",b.newWidth).css("width",b.newWidth+"px");d.attr("height",b.newHeight).css("height",b.newHeight+
"px");b.marLeft?d.css("margin-left",-b.marLeft+"px"):d.css("margin-left","");if("center"==a.incompleteLastRow||"flexible-center"==a.incompleteLastRow||"flexible-match-center"==a.incompleteLastRow||"match-center"==a.incompleteLastRow)b.spaceLeft&&0<b.spaceLeft?(b.container.css("ltr"==a.readingDirection?"margin-left":"margin-right",b.spaceLeft+"px"),b.spaceLeft=0):b.container.css("ltr"==a.readingDirection?"margin-left":"margin-right","");"off"!=a.specialFx&&(c=d.siblings(".jig-pixastic"),0===c.length&&
"captions"==a.specialFx&&(c=d.siblings(".jig-cw-role-effect").find(".jig-pixastic")),da(c,d));"below"==a.caption&&(0!==a.middleBorderWidth&&"always"==a.innerBorder&&"always"!==a.middleBorder?b.$captionWrapper.width((b.containerWidth?b.containerWidth:b.newWidth)-2*parseFloat(a.innerBorderWidth)):b.container.css({width:(b.containerWidth?b.containerWidth:b.newWidth)+"px"}));"off"!==a.caption&&"off"!==a.verticalCenterCaptions&&(d=b.container.find(".jig-cw-role-real").clone(),d.find(".jig-caption").css("display",
"block"),d.appendTo(b.linkElement).css({bottom:"auto",opacity:.01}).css("top",Math.round((b.containerHeight?b.containerHeight:b.newHeight)/2-d.height()/2)),c=d.css("top"),d.remove(),b.container.find(".jig-caption-wrapper").css({bottom:"auto"}).animate({top:c},a.animSpeed,"JIGeaseInOutQuad"))},T=function(b){"undefined"===typeof b[a.linkTitleField]&&(b[a.linkTitleField]="");"undefined"===typeof b[a.imgAltField]&&(b[a.imgAltField]="");"undefined"===typeof b[a.titleField]&&(b[a.titleField]="");"undefined"===
typeof b[a.captionField]&&(b[a.captionField]="");var d=b.off="";b.carousel_data?(b.carousel_data=" "+b.carousel_data+" ",d=" tiled-gallery-item"):b.carousel_data="";b.extra_class&&(d+=" "+b.extra_class);var g=b.url,f=a.hiddenLinkClass;var e=b.link_target?b.link_target:"_self";var h=a.linkRel;var k=!0;""!==d&&(f=f.replace('jig-hiddenLink"',"jig-hiddenLink"+d+'"'));!b.link||(g=b.link,"video"!==e&&"videoplayer"!==e?(f="foobox"!==e?'target="'+e+'" '+f.replace("jig-link","jig-customLink jig-hiddenLink"):
'target="'+e+'" '+f.replace("jig-link","jig-hiddenLink"),h=b.link_rel?'rel="'+b.link_rel+'"':""):"magnific"==a.lightbox&&-1==f.indexOf("mfp-")&&(f=f.replace("jig-link","jig-link mfp-iframe")),"videoplayer"!=e&&"foobox"!=e)||-1===g.indexOf("&poster=")&&-1===g.indexOf("|poster=")||(k=!1);if(!0===k&&(g=(g+"").replace(/\+/g,"%20"),"https%3A%2F%2F"===g.substr(0,14)||"http%3A%2F%2F"===g.substr(0,13)))try{g=decodeURIComponent(g)}catch(u){}e=b[a.linkTitleField];d=b[a.imgAltField];b.download&&("yes"==a.downloadLink?
(k=(0!==e.length?a.separatorCharacter:"")+b.download,e+=k):"alt"==a.downloadLink&&(k=(0!==d.length?a.separatorCharacter:"")+b.download,d+=k));b.lightbox_link&&("yes"==a.lightboxLink?(k=(0!==e.length?a.separatorCharacter:"")+b.lightbox_link,e+=k):"alt"==a.lightboxLink&&(k=(0!==d.length?a.separatorCharacter:"")+b.lightbox_link,d+=k));""!==e&&(e='title="'+e+'" ');""!==d&&(d='alt="'+d+'" ');k=a.linkAttribute;b.extra_class&&(k=k.replace("*content*",b.extra_class.replace(/.*jig-contentID-[A-Z]{2}-(\d+).*/mg,
"$1")));g=c("<a "+f+h+k+e+(b.wh?'data-wh="'+b.wh+'" ':"")+'href="'+("links-off"!=a.lightbox?g:"#")+'"/>');f=c('<img class="jig-hiddenImg" '+d+b.carousel_data+"/>");b.carousel_data&&b.download&&("yes"==a.downloadLink?(k=(0!==f.attr("data-image-title").length?a.separatorCharacter:"")+c("<textarea />").html(b.download).val(),f.attr("data-image-title",f.attr("data-image-title")+k)):"alt"==a.downloadLink&&(k=(0!==f.attr("data-image-description").length?"<br />":"")+c("<textarea />").html(b.download).val(),
f.attr("data-image-description",f.attr("data-image-description")+k)));f.attr("src","data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw%3D%3D");g.append(f);b.linkContainer=g;void 0!==a.currentHiddenLink?c(a.currentHiddenLink).after(g):a.element.find(".jig-clearfix").after(g);a.currentHiddenLink=g},da=function(a,d){d.off("load");0!==a.length&&a.off("load").remove();d.clone().addClass("jig-pixastic").insertAfter(d).on("load",U).each(function(){(this.complete||void 0!==this.naturalWidth&&
0!==this.naturalWidth)&&c(this).trigger("load")})},U=function(){if(!0!==c(this).hasClass("jig-specialfx-complete"))if(c(this).stop().css("display","block").css("opacity",1),""===a.specialFxOptions)switch(a.specialFxType){case "desaturate":Pixastic.process(this,"desaturate",{retinaReady:a.retinaReady,devicePixelRatio:a.devicePixelRatio,average:!1},B);break;case "blur":Pixastic.process(this,"blurfast",{retinaReady:a.retinaReady,devicePixelRatio:a.devicePixelRatio,amount:.5},B);break;case "glow":Pixastic.process(this,
"glow",{retinaReady:a.retinaReady,devicePixelRatio:a.devicePixelRatio,amount:.3,radius:.2},B);break;case "sepia":Pixastic.process(this,"sepia",{retinaReady:a.retinaReady,devicePixelRatio:a.devicePixelRatio},B);break;case "laplace_dark":Pixastic.process(this,"laplace",{retinaReady:a.retinaReady,devicePixelRatio:a.devicePixelRatio,edgeStrength:2,invert:!1,greyLevel:0},B);break;case "laplace_light":Pixastic.process(this,"laplace",{retinaReady:a.retinaReady,devicePixelRatio:a.devicePixelRatio,edgeStrength:2,
invert:!0,greyLevel:0},B)}else{for(var b=a.specialFxOptions,d={},g=0,f=b.length;g<f;g+=1){var e=b[g].split(":");d[e[0]]=e[1]}d.retinaReady=a.retinaReady;d.devicePixelRatio=a.devicePixelRatio;switch(a.specialFxType){case "desaturate":Pixastic.process(this,"desaturate",d,B);break;case "blur":Pixastic.process(this,"blurfast",d,B);break;case "glow":Pixastic.process(this,"glow",d,B);break;case "sepia":Pixastic.process(this,"sepia",B);break;case "laplace_dark":Pixastic.process(this,"laplace",d,B);break;
case "laplace_light":Pixastic.process(this,"laplace",d,B)}}c(this).off("load")},B=function(b,d){if(!1===b){var g=c(d);g.siblings(".jig-cw-role-effect").remove();g.remove()}else if(b=c(b),"hovered"===a.specialFx?b.css("opacity",a.hiddenOpacity):b.css("opacity",a.specialFxBlend),b.addClass("jig-specialfx-complete"),"captions"==a.specialFx){g=b.closest(".jig-imageContainer").find(".jig-cw-role-effect");if("no"==a.captionMatchWidth)b.appendTo(g);else try{var f=b[0].toDataURL("image/jpeg"),e=b.css("width")+
" "+b.css("height");b.remove();g.find(".jig-caption-title").css({"background-image":"url("+f+")","background-size":e});g.find(".jig-caption-description").css({"background-image":"url("+f+")","background-size":e})}catch(l){a.captionMatchWidthForceNo=!0,f=b.closest(".jig-imageContainer"),f.find(".jig-cw-role-effect .jig-caption").remove(),f.find(".jig-caption-title").css({display:"block"}),b.appendTo(g)}N(M(g))}},M=function(b,d){var c={};c.roleEffect=b.eq(0).closest(".jig-caption-wrapper");if(0===c.roleEffect.length)return!1;
if("no"==a.captionMatchWidth||a.captionMatchWidthForceNo)c.roleEffect.hasClass("jig-cw-role-effect")?c.roleReal=c.roleEffect.siblings(".jig-cw-role-real"):(c.roleReal=c.roleEffect,c.roleEffect=c.roleEffect.siblings(".jig-cw-role-effect")),d&&(c.fadeZeroHeight=d),c.captionElement=c.roleReal.find(".jig-caption");else{c.roleEffect=c.roleEffect.filter(".jig-cw-role-effect");if(!c.roleEffect.hasClass("jig-cw-role-effect"))return!1;c.img=c.roleEffect.siblings("img");c.captionTitle=c.roleEffect.find(".jig-caption-title");
c.captionDescription=c.roleEffect.find(".jig-caption-description")}return c},N=function(b){if(!1===b)return!1;if("no"==a.captionMatchWidth||a.captionMatchWidthForceNo){var d=b.roleReal.position();0!==b.roleReal.height()?(b.roleEffect.css({height:b.captionElement.height()+"px"}).find(".jig-pixastic").css({top:-d.top+"px"}),b.fadeZeroHeight&&b.roleEffect.css({opacity:b.captionElement.css("opacity")})):b.roleEffect.find(".jig-pixastic").css({top:-d.top+"px"})}else{d=b.roleEffect.position();var c=b.captionTitle.position(),
f=b.captionDescription.position(),e=parseInt(b.img.css("margin-left"),10);c&&b.captionTitle.css({"background-position":e-c.left+"px "+-d.top+"px"});f&&b.captionDescription.css({"background-position":e+"px "+(-f.top-d.top)+"px"})}},X=function(a){a.find(".jig-caption-wrapper").dotdotdot({watch:!0,keep:"br"})};a.errorChecked=!1;var V=function(){0<c(".jig-unloadable").length&&(a.errorChecked=!0,a.element.find(".jig-unloadable").remove(),t.createGallery("errorCheck"))};t.init()};c.fn.justifiedImageGrid=
function(p){return this.each(function(){if(void 0===c(this).data("justifiedImageGrid")){var x=new c.justifiedImageGrid(this,p);c(this).data("justifiedImageGrid",x)}})};c.extend(c.easing,{JIGswing:function(c){return.5-Math.cos(c*Math.PI)/2},JIGeaseInOutQuad:function(c){return.5>c?2*c*c:1-Math.pow(-2*c+2,2)/2}});c.fn.JIGhoverFlow=function(p,x,q,m,v){if(-1==c.inArray(p,["mouseover","mouseenter","mouseout","mouseleave"]))return this;var y="object"===typeof q?q:{complete:v||!v&&m||c.isFunction(q)&&q,duration:q,
easing:v&&m||m&&!c.isFunction(m)&&m};"undefined"==typeof y.easing&&(y.easing="JIGswing");y.queue=!1;var h=y.complete;y.complete=function(){c(this).dequeue();c.isFunction(h)&&h.call(this)};return this.each(function(){var h=c(this);"mouseover"==p||"mouseenter"==p?h.data("jQuery.JIGhoverFlow",!0):h.removeData("jQuery.JIGhoverFlow");h.queue(function(){("mouseover"==p||"mouseenter"==p?void 0!==h.data("jQuery.JIGhoverFlow"):void 0===h.data("jQuery.JIGhoverFlow"))?h.animate(x,y):h.queue([])})})};(function(c){var p=
function(c,t){return c-t},q=function(c){4===c.length&&(c=c.replace(/(\w)(\w)(\w)/gi,"$1$1$2$2$3$3"));c=/(\w{2})(\w{2})(\w{2})/.exec(c);return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]},m=function(c){return"#"+jQuery.map(c,function(c){c=c.toString(16);return c=1===c.length?"0"+c:c}).join("")},v=function(c,m){return jQuery.map(q(c.end),function(a,h){return(a-q(c.start)[h])/m})},y=function(c,p,a){c=jQuery.map(q(c.start),function(c,h){var m=Math.round(c+p[h]*a);255<m?m=255:0>m&&(m=0);return m});
return m(c)};c.fn.tagcloud=function(h){var m=c.extend({},c.fn.tagcloud.defaults,h);h=this.map(function(){return c(this).attr("rel")});h=jQuery.makeArray(h).sort(p);var a=h[0];h=h.pop()-a;0===h&&(h=1);var q,x;m.size&&(q=(m.size.end-m.size.start)/h);m.color&&(x=v(m.color,h));return this.each(function(){var h=c(this).attr("rel")-a;m.size&&c(this).css({"font-size":m.size.start+h*q+m.size.unit});m.color&&c(this).css({color:y(m.color,x,h)})})};c.fn.tagcloud.defaults={size:{start:14,end:18,unit:"pt"}}})(jQuery);
c.JIGjQueryMinVersion=function(p,x){if(p){var q=c().jquery,m=p.split("."),v=q.split(".");q=[];var y=[],h=!1;q[0]=isNaN(parseInt(m[0],10))?0:parseInt(m[0],10);q[1]=isNaN(parseInt(m[1],10))?0:parseInt(m[1],10);q[2]=isNaN(parseInt(m[2],10))?0:parseInt(m[2],10);q[3]=isNaN(parseInt(m[3],10))?0:parseInt(m[3],10);y[0]=isNaN(parseInt(v[0],10))?0:parseInt(v[0],10);y[1]=isNaN(parseInt(v[1],10))?0:parseInt(v[1],10);y[2]=isNaN(parseInt(v[2],10))?0:parseInt(v[2],10);y[3]=isNaN(parseInt(v[3],10))?0:parseInt(v[3],
10);for(m=0;4>m;m++)if(q[m]<=y[m]){if(h=!0,q[m]!=y[m])break}else{h=!1;break}if(!0===h)return!0;!0===x&&c(".justified-image-grid").html('<span style="color:red;font-weight:bold">Your jQuery version ('+c().jquery+") is old, this plugin needs at least 1.7, please go to the plugin settings and choose another jQuery source. If this does not work then your theme or a plugin is not using WordPress best practices and forces the loading of an old version. In that case contact the author of Justified Image Grid.</span>")}return!1}}
(function(){loadJustifiedImageGrid(jQuery)})();