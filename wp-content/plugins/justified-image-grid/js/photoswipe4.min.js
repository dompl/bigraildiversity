/*
 PhotoSwipe - v4.1.2 - 2017-04-05
 http://photoswipe.com
 Copyright (c) 2017 Dmitry Semenov;  PhotoSwipe Default UI - 4.1.2 - 2017-04-05
 http://photoswipe.com
 Copyright (c) 2017 Dmitry Semenov;  JIGphotoSwipe(); jQuery wrapper made exclusively for JIG v3.8.1 by Firsh
   Additional changes to original PhotoSwipe:
   photoswipe-ui-default.js
    _updateShareURLs
    ui.update
   photoswipe.js - affected functions:
    publicMethods init (just an if at "add classes to root element of PhotoSwipe")
    init > _globalEventHandlers > _orientationChangeTimeout2
    History
     _parseItemIndexFromURL
     _updateHash
     publicMethods:
      initHistory
      onHashChange
*/
(function(d,g){"function"===typeof define&&define.amd?define(g):"undefined"!==typeof module&&"object"===typeof exports?module.exports=g():d.PhotoSwipe=g()})(this,function(){return function(d,g,p,ra){var f={features:null,bind:function(a,b,c,k){k=(k?"remove":"add")+"EventListener";b=b.split(" ");for(var e=0;e<b.length;e++)if(b[e])a[k](b[e],c,!1)},isArray:function(a){return a instanceof Array},createEl:function(a,b){var c=document.createElement(b||"div");a&&(c.className=a);return c},getScrollY:function(){var a=
window.pageYOffset;return void 0!==a?a:document.documentElement.scrollTop},unbind:function(a,b,c){f.bind(a,b,c,!0)},removeClass:function(a,b){a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)")," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(a,b){f.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},hasClass:function(a,b){return a.className&&(new RegExp("(^|\\s)"+b+"(\\s|$)")).test(a.className)},getChildByClass:function(a,b){for(var c=a.firstChild;c;){if(f.hasClass(c,
b))return c;c=c.nextSibling}},arraySearch:function(a,b,c){for(var k=a.length;k--;)if(a[k][c]===b)return k;return-1},extend:function(a,b,c){for(var k in b)!b.hasOwnProperty(k)||c&&a.hasOwnProperty(k)||(a[k]=b[k])},easing:{sine:{out:function(a){return Math.sin(Math.PI/2*a)},inOut:function(a){return-(Math.cos(Math.PI*a)-1)/2}},cubic:{out:function(a){return--a*a*a+1}}},detectFeatures:function(){if(f.features)return f.features;var a=f.createEl().style,b="",c={};c.oldIE=document.all&&!document.addEventListener;
c.touch="ontouchstart"in window;window.requestAnimationFrame&&(c.raf=window.requestAnimationFrame,c.caf=window.cancelAnimationFrame);c.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled;if(!c.pointerEvent){b=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var k=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);k&&0<k.length&&(k=parseInt(k[1],10),1<=k&&8>k&&(c.isOldIOSPhone=!0))}k=(k=b.match(/Android\s([0-9\.]*)/))?k[1]:0;k=parseFloat(k);1<=k&&(4.4>k&&(c.isOldAndroid=
!0),c.androidVersion=k);c.isMobileOpera=/opera mini|opera mobi/i.test(b)}k=["transform","perspective","animationName"];for(var e=["","webkit","Moz","ms","O"],d,m,h=0;4>h;h++){b=e[h];for(var g=0;3>g;g++)d=k[g],m=b+(b?d.charAt(0).toUpperCase()+d.slice(1):d),!c[d]&&m in a&&(c[d]=m);b&&!c.raf&&(b=b.toLowerCase(),c.raf=window[b+"RequestAnimationFrame"],c.raf&&(c.caf=window[b+"CancelAnimationFrame"]||window[b+"CancelRequestAnimationFrame"]))}if(!c.raf){var l=0;c.raf=function(a){var b=(new Date).getTime(),
c=Math.max(0,16-(b-l)),k=window.setTimeout(function(){a(b+c)},c);l=b+c;return k};c.caf=function(a){clearTimeout(a)}}c.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;return f.features=c}};f.detectFeatures();f.features.oldIE&&(f.bind=function(a,b,c,k){b=b.split(" ");for(var e=(k?"detach":"attach")+"Event",d,m=function(){c.handleEvent.call(c)},f=0;f<b.length;f++)if(d=b[f])if("object"===typeof c&&c.handleEvent){if(!k)c["oldIE"+d]=m;else if(!c["oldIE"+
d])return!1;a[e]("on"+d,c["oldIE"+d])}else a[e]("on"+d,c)});var e=this,h={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(a){return"A"===a.tagName},getDoubleTapZoom:function(a,b){return a?1:.7>b.initialZoomLevel?1:1.33},maxSpreadZoom:1.33,
modal:!0,scaleMode:"fit"};f.extend(h,ra);var B=function(){return{x:0,y:0}},x,sa,Ha,n,N,Q,G=B(),r=B(),l=B(),ha,ta,C,q={},u,R,Ia,X,Ja,ua,J=0,ia={},H=B(),z,Ka,I=0,ja,ka,la,La,V,ba,Ma=!0,W,ma=[],Na,m,y,Ub,xb,va,w,Wa={},wa=!1,yb,zb,Xa=function(a,b){f.extend(e,b.publicMethods);ma.push(a)},kb=function(a){var b=O();return a>b-1?a-b:0>a?b+a:a},Ya={},A=function(a,b){Ya[a]||(Ya[a]=[]);return Ya[a].push(b)},v=function(a){var b=Ya[a];if(b){var c=Array.prototype.slice.call(arguments);c.shift();for(var k=0;k<b.length;k++)b[k].apply(e,
c)}},Y=function(){return(new Date).getTime()},ca=function(a){lb=a;e.bg.style.opacity=a*h.bgOpacity},Vb=function(a,b,c,k,d){if(!wa||d&&d!==e.currItem)k/=d?d.fitRatio:e.currItem.fitRatio;a[V]=Ia+b+"px, "+c+"px"+X+" scale("+k+")"},D=function(a){da&&(a&&(u>e.currItem.fitRatio?wa||(xa(e.currItem,!1,!0),wa=!0):wa&&(xa(e.currItem),wa=!1)),Vb(da,l.x,l.y,u))},Za=function(a){a.container&&Vb(a.container.style,a.initialPosition.x,a.initialPosition.y,a.initialZoomLevel,a)},Oa=function(a,b){b[V]=Ia+a+"px, 0px"+
X},mb=function(a,b){if(!h.loop&&b){var c=n+(H.x*J-a)/H.x,k=Math.round(a-ea.x);if(0>c&&0<k||c>=O()-1&&0>k)a=ea.x+k*h.mainScrollEndFriction}ea.x=a;Oa(a,N)},Ab=function(a,b){var c=$a[a]-ia[a];return r[a]+G[a]+c-b/R*c},K=function(a,b){a.x=b.x;a.y=b.y;b.id&&(a.id=b.id)},Wb=function(a){a.x=Math.round(a.x);a.y=Math.round(a.y)},Bb=null,Cb=function(){Bb&&(f.unbind(document,"mousemove",Cb),f.addClass(d,"pswp--has_mouse"),h.mouseUsed=!0,v("mouseUsed"));Bb=setTimeout(function(){Bb=null},100)},Db=function(a,b){var c=
ab(e.currItem,q,a);b&&(t=c);return c},Xb=function(a){a||(a=e.currItem);return a.initialZoomLevel},Yb=function(a){a||(a=e.currItem);return 0<a.w?h.maxSpreadZoom:1},Zb=function(a,b,c,k){if(k===e.currItem.initialZoomLevel)return c[a]=e.currItem.initialPosition[a],!0;c[a]=Ab(a,k);return c[a]>b.min[a]?(c[a]=b.min[a],!0):c[a]<b.max[a]?(c[a]=b.max[a],!0):!1},rc=function(){V?(Ia="translate"+(w.perspective&&!W?"3d(":"("),X=w.perspective?", 0px)":")"):(V="left",f.addClass(d,"pswp--ie"),Oa=function(a,b){b.left=
a+"px"},Za=function(a){var b=1<a.fitRatio?1:a.fitRatio,c=a.container.style,k=b*a.h;c.width=b*a.w+"px";c.height=k+"px";c.left=a.initialPosition.x+"px";c.top=a.initialPosition.y+"px"},D=function(){if(da){var a=da,b=e.currItem,c=1<b.fitRatio?1:b.fitRatio,k=c*b.h;a.width=c*b.w+"px";a.height=k+"px";a.left=l.x+"px";a.top=l.y+"px"}})},sc=function(a){var b="";h.escKey&&27===a.keyCode?b="close":h.arrowKeys&&(37===a.keyCode?b="prev":39===a.keyCode&&(b="next"));!b||a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||
(a.preventDefault?a.preventDefault():a.returnValue=!1,e[b]())},tc=function(a){a&&(Pa||ya||L||bb)&&(a.preventDefault(),a.stopPropagation())},$b=function(){e.setScrollOffset(0,f.getScrollY())},P={},Qa=0,cb=function(a){P[a]&&(P[a].raf&&m(P[a].raf),Qa--,delete P[a])},Eb=function(a){P[a]&&cb(a);P[a]||(Qa++,P[a]={})},db=function(){for(var a in P)P.hasOwnProperty(a)&&cb(a)},eb=function(a,b,c,k,e,d,m){var f=Y(),h;Eb(a);var g=function(){P[a]&&(h=Y()-f,h>=k?(cb(a),d(c),m&&m()):(d((c-b)*e(h/k)+b),P[a].raf=Na(g)))};
g()},uc={shout:v,listen:A,viewportSize:q,options:h,isMainScrollAnimating:function(){return L},getZoomLevel:function(){return u},getCurrentIndex:function(){return n},isDragging:function(){return Z},isZooming:function(){return fa},setScrollOffset:function(a,b){ia.x=a;va=ia.y=b;v("updateScrollOffset",ia)},applyZoomPan:function(a,b,c,k){l.x=b;l.y=c;u=a;D(k)},init:function(){if(!x&&!sa){e.framework=f;e.template=d;e.bg=f.getChildByClass(d,"pswp__bg");y=d.className;x=!0;w=f.detectFeatures();Na=w.raf;m=w.caf;
V=w.transform;xb=w.oldIE;e.scrollWrap=f.getChildByClass(d,"pswp__scroll-wrap");e.container=f.getChildByClass(e.scrollWrap,"pswp__container");N=e.container.style;e.itemHolders=z=[{el:e.container.children[0],wrap:0,index:-1},{el:e.container.children[1],wrap:0,index:-1},{el:e.container.children[2],wrap:0,index:-1}];z[0].el.style.display=z[2].el.style.display="none";rc();C={resize:e.updateSize,orientationchange:function(){clearTimeout(yb);yb=setTimeout(function(){q.x!==e.scrollWrap.clientWidth&&e.updateSize()},
500);clearTimeout(zb);zb=setTimeout(function(){q.x!==e.scrollWrap.clientWidth&&e.updateSize()},1E3)},scroll:$b,keydown:sc,click:tc};var a=w.isOldIOSPhone||w.isOldAndroid||w.isMobileOpera;w.animationName&&w.transform&&!a||(h.showAnimationDuration=h.hideAnimationDuration=0);for(a=0;a<ma.length;a++)e["init"+ma[a]]();g&&(e.ui=new g(e,f)).init();v("firstUpdate");n=n||h.index||0;if(isNaN(n)||0>n||n>=O())n=0;e.currItem=za(n);if(w.isOldIOSPhone||w.isOldAndroid)Ma=!1;d.setAttribute("aria-hidden","false");
h.modal&&(Ma?d.style.position="fixed":(d.style.position="absolute",d.style.top=f.getScrollY()+"px"));void 0===va&&(v("initialLayout"),va=Ub=f.getScrollY());a="pswp--open ";h.mainClass&&(a+=h.mainClass+" ");h.showHideOpacity&&(a+="pswp--animate_opacity ");a+=W?"pswp--touch":"pswp--notouch";a+=w.animationName?" pswp--css_animation":"";a+=w.svg?" pswp--svg":"";1===h.maxSpreadZoom&&!1===h.pinchToClose&&!1===h.zoomEl&&(a+=" pswp--zoom-prevented");f.addClass(d,a);e.updateSize();Q=-1;I=null;for(a=0;3>a;a++)Oa((a+
Q)*H.x,z[a].el.style);xb||f.bind(e.scrollWrap,ta,e);A("initialZoomInEnd",function(){e.setContent(z[0],n-1);e.setContent(z[2],n+1);z[0].el.style.display=z[2].el.style.display="block";h.focus&&d.focus();f.bind(document,"keydown",e);w.transform&&f.bind(e.scrollWrap,"click",e);h.mouseUsed||f.bind(document,"mousemove",Cb);f.bind(window,"resize scroll orientationchange",e);v("bindEvents")});e.setContent(z[1],n);e.updateCurrItem();v("afterInit");Ma||(Ja=setInterval(function(){Qa||Z||fa||u!==e.currItem.initialZoomLevel||
e.updateSize()},1E3));f.addClass(d,"pswp--visible")}},close:function(){x&&(x=!1,sa=!0,v("close"),f.unbind(window,"resize scroll orientationchange",e),f.unbind(window,"scroll",C.scroll),f.unbind(document,"keydown",e),f.unbind(document,"mousemove",Cb),w.transform&&f.unbind(e.scrollWrap,"click",e),Z&&f.unbind(window,ha,e),clearTimeout(yb),clearTimeout(zb),v("unbindEvents"),ac(e.currItem,null,!0,e.destroy))},destroy:function(){v("destroy");Aa&&clearTimeout(Aa);d.setAttribute("aria-hidden","true");d.className=
y;Ja&&clearInterval(Ja);f.unbind(e.scrollWrap,ta,e);f.unbind(window,"scroll",e);Fb();db();Ya=null},panTo:function(a,b,c){c||(a>t.min.x?a=t.min.x:a<t.max.x&&(a=t.max.x),b>t.min.y?b=t.min.y:b<t.max.y&&(b=t.max.y));l.x=a;l.y=b;D()},handleEvent:function(a){a=a||window.event;if(C[a.type])C[a.type](a)},goTo:function(a){a=kb(a);var b=a-n;I=b;n=a;e.currItem=za(n);J-=b;mb(H.x*J);db();L=!1;e.updateCurrItem()},next:function(){e.goTo(n+1)},prev:function(){e.goTo(n-1)},updateCurrZoomItem:function(a){a&&v("beforeChange",
0);if(z[1].el.children.length){var b=z[1].el.children[0];da=f.hasClass(b,"pswp__zoom-wrap")?b.style:null}else da=null;t=e.currItem.bounds;R=u=e.currItem.initialZoomLevel;l.x=t.center.x;l.y=t.center.y;a&&v("afterChange")},invalidateCurrItems:function(){ua=!0;for(var a=0;3>a;a++)z[a].item&&(z[a].item.needsUpdate=!0)},updateCurrItem:function(a){if(0!==I){var b=Math.abs(I);if(!(a&&2>b)){e.currItem=za(n);wa=!1;v("beforeChange",I);3<=b&&(Q+=I+(0<I?-3:3),b=3);for(var c=0;c<b;c++)0<I?(a=z.shift(),z[2]=a,
Q++,Oa((Q+2)*H.x,a.el.style),e.setContent(a,n-b+c+1+1)):(a=z.pop(),z.unshift(a),Q--,Oa(Q*H.x,a.el.style),e.setContent(a,n+b-c-1-1));da&&1===Math.abs(I)&&(b=za(Ka),b.initialZoomLevel!==u&&(ab(b,q),xa(b),Za(b)));I=0;e.updateCurrZoomItem();Ka=n;v("afterChange")}}},updateSize:function(a){if(!Ma&&h.modal){var b=f.getScrollY();va!==b&&(d.style.top=b+"px",va=b);if(!a&&Wa.x===window.innerWidth&&Wa.y===window.innerHeight)return;Wa.x=window.innerWidth;Wa.y=window.innerHeight;d.style.height=Wa.y+"px"}q.x=e.scrollWrap.clientWidth;
q.y=e.scrollWrap.clientHeight;$b();H.x=q.x+Math.round(q.x*h.spacing);H.y=q.y;mb(H.x*J);v("beforeResize");if(void 0!==Q){for(var c,k=0;3>k;k++)a=z[k],Oa((k+Q)*H.x,a.el.style),c=n+k-1,h.loop&&2<O()&&(c=kb(c)),(b=za(c))&&(ua||b.needsUpdate||!b.bounds)?(e.cleanSlide(b),e.setContent(a,c),1===k&&(e.currItem=b,e.updateCurrZoomItem(!0)),b.needsUpdate=!1):-1===a.index&&0<=c&&e.setContent(a,c),b&&b.container&&(ab(b,q),xa(b),Za(b));ua=!1}R=u=e.currItem.initialZoomLevel;if(t=e.currItem.bounds)l.x=t.center.x,
l.y=t.center.y,D(!0);v("resize")},zoomTo:function(a,b,c,k,e){b&&(R=u,$a.x=Math.abs(b.x)-l.x,$a.y=Math.abs(b.y)-l.y,K(r,l));b=Db(a,!1);var d={};Zb("x",b,d,a);Zb("y",b,d,a);var m=u,h=l.x,g=l.y;Wb(d);b=function(b){1===b?(u=a,l.x=d.x,l.y=d.y):(u=(a-m)*b+m,l.x=(d.x-h)*b+h,l.y=(d.y-g)*b+g);e&&e(b);D(1===b)};c?eb("customZoomTo",0,1,c,k||f.easing.sine.inOut,b):b(1)}},bc,nb,E={},aa={},F={},M={},Ra={},na=[],Ba={},fb,Ca=[],Gb,Hb,Ib,bb,gb,ob=0,hb=B(),Jb=0,Z,Kb,ya,Pa,pb,Da,S,fa,cc,t,ea=B(),da,L,$a=B(),Ea=B(),
oa,Lb,qb,lb,rb,dc=function(a,b){Gb=Math.abs(a.x-b.x);Hb=Math.abs(a.y-b.y);return Math.sqrt(Gb*Gb+Hb*Hb)},Fb=function(){pb&&(m(pb),pb=null)},ec=function(){if(Z&&(pb=Na(ec),S)){var a=S.length;if(0!==a)if(K(E,S[0]),F.x=E.x-M.x,F.y=E.y-M.y,fa&&1<a){M.x=E.x;M.y=E.y;if(a=!F.x&&!F.y)a=S[1],a=a.x===aa.x&&a.y===aa.y;if(!a){K(aa,S[1]);ya||(ya=!0,v("zoomGestureStarted"));a=dc(E,aa);a=1/cc*a*R;a>e.currItem.initialZoomLevel+e.currItem.initialZoomLevel/15&&(rb=!0);var b=Xb(),c=Yb();a<b?h.pinchToClose&&!rb&&R<=
e.currItem.initialZoomLevel?(b=1-(b-a)/(b/1.2),ca(b),v("onPinchClose",b),qb=!0):(a=(b-a)/b,1<a&&(a=1),a=b-b/3*a):a>c&&(a=(a-c)/(6*b),1<a&&(a=1),a=c+a*b);hb.x=.5*(E.x+aa.x);hb.y=.5*(E.y+aa.y);G.x+=hb.x-Ea.x;G.y+=hb.y-Ea.y;K(Ea,hb);l.x=Ab("x",a);l.y=Ab("y",a);Ib=a>u;u=a;D()}}else if(oa&&(Lb&&(Lb=!1,10<=Math.abs(F.x)&&(F.x-=S[0].x-Ra.x),10<=Math.abs(F.y)&&(F.y-=S[0].y-Ra.y)),M.x=E.x,M.y=E.y,0!==F.x||0!==F.y))if("v"===oa&&h.closeOnVerticalDrag&&"fit"===h.scaleMode&&u===e.currItem.initialZoomLevel)G.y+=
F.y,l.y+=F.y,a=fc(),bb=!0,v("onVerticalDrag",a),ca(a),D();else{a=Y();b=E.x;c=E.y;if(50<a-nb){var k=2<Ca.length?Ca.shift():{};k.x=b;k.y=c;Ca.push(k);nb=a}Pa=!0;t=e.currItem.bounds;gc("x",F)||(gc("y",F),Wb(l),D())}}},hc=function(a,b){return!a||a===document||a.getAttribute("class")&&-1<a.getAttribute("class").indexOf("pswp__scroll-wrap")?!1:b(a)?a:hc(a.parentNode,b)},Mb={},ic=function(a,b){Mb.prevent=!hc(a.target,h.isClickableElement);v("preventDragEvent",a,b,Mb);return Mb.prevent},jc=function(a,b){b.x=
a.pageX;b.y=a.pageY;b.id=a.identifier;return b},fc=function(){return 1-Math.abs((l.y-e.currItem.initialPosition.y)/(q.y/2))},ib={},vc={},pa=[],sb,Nb=function(a){for(;0<pa.length;)pa.pop();ba?(sb=0,na.forEach(function(a){0===sb?pa[0]=a:1===sb&&(pa[1]=a);sb++})):-1<a.type.indexOf("touch")?a.touches&&0<a.touches.length&&(pa[0]=jc(a.touches[0],ib),1<a.touches.length&&(pa[1]=jc(a.touches[1],vc))):(ib.x=a.pageX,ib.y=a.pageY,ib.id="",pa[0]=ib);return pa},gc=function(a,b){var c=l[a]+b[a],k=0<b[a],d=ea.x+
b.x,m=ea.x-Ba.x,f;var g=c>t.min[a]||c<t.max[a]?h.panEndFriction:1;c=l[a]+b[a]*g;if(h.allowPanToNext||u===e.currItem.initialZoomLevel){if(!da)var y=d;else if("h"===oa&&"x"===a&&!ya)if(k){if(c>t.min[a]){g=h.panEndFriction;var n=t.min[a]-r[a]}(0>=n||0>m)&&1<O()?(y=d,0>m&&d>Ba.x&&(y=Ba.x)):t.min.x!==t.max.x&&(f=c)}else c<t.max[a]&&(g=h.panEndFriction,n=r[a]-t.max[a]),(0>=n||0<m)&&1<O()?(y=d,0<m&&d<Ba.x&&(y=Ba.x)):t.min.x!==t.max.x&&(f=c);if("x"===a)return void 0!==y&&(mb(y,!0),Da=y===Ba.x?!1:!0),t.min.x!==
t.max.x&&(void 0!==f?l.x=f:Da||(l.x+=b.x*g)),void 0!==y}L||Da||u>e.currItem.fitRatio&&(l[a]+=b[a]*g)},wc=function(a){if(!("mousedown"===a.type&&0<a.button))if(Sa)a.preventDefault();else if(!gb||"mousedown"!==a.type){ic(a,!0)&&a.preventDefault();v("pointerDown");if(ba){var b=f.arraySearch(na,a.pointerId,"id");0>b&&(b=na.length);na[b]={x:a.pageX,y:a.pageY,id:a.pointerId}}a=Nb(a);b=a.length;S=null;db();Z&&1!==b||(Z=Lb=!0,f.bind(window,ha,e),Ib=rb=qb=bb=Da=Pa=Kb=ya=!1,oa=null,v("firstTouchStart",a),K(r,
l),G.x=G.y=0,K(M,a[0]),K(Ra,M),Ba.x=H.x*J,Ca=[{x:M.x,y:M.y}],nb=bc=Y(),Db(u,!0),Fb(),ec());!fa&&1<b&&!L&&!Da&&(R=u,ya=!1,fa=Kb=!0,G.y=G.x=0,K(r,l),K(E,a[0]),K(aa,a[1]),Ea.x=.5*(E.x+aa.x),Ea.y=.5*(E.y+aa.y),$a.x=Math.abs(Ea.x)-l.x,$a.y=Math.abs(Ea.y)-l.y,cc=dc(E,aa))}},xc=function(a){a.preventDefault();if(ba){var b=f.arraySearch(na,a.pointerId,"id");-1<b&&(b=na[b],b.x=a.pageX,b.y=a.pageY)}Z&&(a=Nb(a),oa||Pa||fa?S=a:ea.x!==H.x*J?oa="h":(b=Math.abs(a[0].x-M.x)-Math.abs(a[0].y-M.y),10<=Math.abs(b)&&(oa=
0<b?"h":"v",S=a)))},Cc=function(a){if(w.isOldAndroid){if(gb&&"mouseup"===a.type)return;-1<a.type.indexOf("touch")&&(clearTimeout(gb),gb=setTimeout(function(){gb=0},600))}v("pointerUp");ic(a,!1)&&a.preventDefault();if(ba){var b=f.arraySearch(na,a.pointerId,"id");if(-1<b){var c=na.splice(b,1)[0];navigator.pointerEnabled?c.type=a.pointerType||"mouse":(c.type={4:"mouse",2:"touch",3:"pen"}[a.pointerType],c.type||(c.type=a.pointerType||"mouse"))}}var k=Nb(a);b=k.length;"mouseup"===a.type&&(b=0);if(2===
b)return S=null,!0;1===b&&K(Ra,k[0]);0!==b||oa||L||(c||("mouseup"===a.type?c={x:a.pageX,y:a.pageY,type:"mouse"}:a.changedTouches&&a.changedTouches[0]&&(c={x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY,type:"touch"})),v("touchRelease",a,c));a=-1;0===b&&(Z=!1,f.unbind(window,ha,e),Fb(),fa?a=0:-1!==Jb&&(a=Y()-Jb));Jb=1===b?Y():-1;a=-1!==a&&150>a?"zoom":"swipe";fa&&2>b&&(fa=!1,1===b&&(a="zoomPointerUp"),v("zoomGestureEnded"));S=null;if(Pa||ya||L||bb)if(db(),fb||(fb=yc()),fb.calculateSwipeSpeed("x"),
bb)if(fc()<h.verticalDragRange)e.close();else{var d=l.y,m=lb;eb("verticalDrag",0,1,300,f.easing.cubic.out,function(a){l.y=(e.currItem.initialPosition.y-d)*a+d;ca((1-m)*a+m);D()});v("onVerticalDrag",1)}else{if((Da||L)&&0===b){if(zc(a,fb))return;a="zoomPointerUp"}L||("swipe"!==a?Ac():!Da&&u>e.currItem.fitRatio&&Bc(fb))}},yc=function(){var a,b,c={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},
backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(k){1<Ca.length?(a=Y()-nb+50,b=Ca[Ca.length-2][k]):(a=Y()-bc,b=Ra[k]);c.lastFlickOffset[k]=M[k]-b;c.lastFlickDist[k]=Math.abs(c.lastFlickOffset[k]);c.lastFlickSpeed[k]=20<c.lastFlickDist[k]?c.lastFlickOffset[k]/a:0;.1>Math.abs(c.lastFlickSpeed[k])&&(c.lastFlickSpeed[k]=0);c.slowDownRatio[k]=.95;c.slowDownRatioReverse[k]=1-c.slowDownRatio[k];c.speedDecelerationRatio[k]=1},calculateOverBoundsAnimOffset:function(a,b){c.backAnimStarted[a]||
(l[a]>t.min[a]?c.backAnimDestination[a]=t.min[a]:l[a]<t.max[a]&&(c.backAnimDestination[a]=t.max[a]),void 0!==c.backAnimDestination[a]&&(c.slowDownRatio[a]=.7,c.slowDownRatioReverse[a]=1-c.slowDownRatio[a],.05>c.speedDecelerationRatioAbs[a]&&(c.lastFlickSpeed[a]=0,c.backAnimStarted[a]=!0,eb("bounceZoomPan"+a,l[a],c.backAnimDestination[a],b||300,f.easing.sine.out,function(b){l[a]=b;D()}))))},calculateAnimOffset:function(a){c.backAnimStarted[a]||(c.speedDecelerationRatio[a]*=c.slowDownRatio[a]+c.slowDownRatioReverse[a]-
c.slowDownRatioReverse[a]*c.timeDiff/10,c.speedDecelerationRatioAbs[a]=Math.abs(c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]),c.distanceOffset[a]=c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]*c.timeDiff,l[a]+=c.distanceOffset[a])},panAnimLoop:function(){P.zoomPan&&(P.zoomPan.raf=Na(c.panAnimLoop),c.now=Y(),c.timeDiff=c.now-c.lastNow,c.lastNow=c.now,c.calculateAnimOffset("x"),c.calculateAnimOffset("y"),D(),c.calculateOverBoundsAnimOffset("x"),c.calculateOverBoundsAnimOffset("y"),.05>c.speedDecelerationRatioAbs.x&&
.05>c.speedDecelerationRatioAbs.y&&(l.x=Math.round(l.x),l.y=Math.round(l.y),D(),cb("zoomPan")))}};return c},Bc=function(a){a.calculateSwipeSpeed("y");t=e.currItem.bounds;a.backAnimDestination={};a.backAnimStarted={};if(.05>=Math.abs(a.lastFlickSpeed.x)&&.05>=Math.abs(a.lastFlickSpeed.y))return a.speedDecelerationRatioAbs.x=a.speedDecelerationRatioAbs.y=0,a.calculateOverBoundsAnimOffset("x"),a.calculateOverBoundsAnimOffset("y"),!0;Eb("zoomPan");a.lastNow=Y();a.panAnimLoop()},zc=function(a,b){L||(ob=
n);var c;if("swipe"===a){var d=M.x-Ra.x,m=10>b.lastFlickDist.x;30<d&&(m||20<b.lastFlickOffset.x)?c=-1:-30>d&&(m||-20>b.lastFlickOffset.x)&&(c=1)}if(c){n+=c;if(0>n){n=h.loop?O()-1:0;var g=!0}else n>=O()&&(n=h.loop?0:O()-1,g=!0);if(!g||h.loop){I+=c;J-=c;var y=!0}}c=H.x*J;d=Math.abs(c-ea.x);y||c>ea.x===0<b.lastFlickSpeed.x?(d=0<Math.abs(b.lastFlickSpeed.x)?d/Math.abs(b.lastFlickSpeed.x):333,d=Math.min(d,400),d=Math.max(d,250)):d=333;ob===n&&(y=!1);L=!0;v("mainScrollAnimStart");eb("mainScroll",ea.x,c,
d,f.easing.cubic.out,mb,function(){db();L=!1;ob=-1;(y||ob!==n)&&e.updateCurrItem();v("mainScrollAnimComplete")});y&&e.updateCurrItem(!0);return y},Ac=function(){var a=u,b=Xb(),c=Yb();u<b?a=b:u>c&&(a=c);var d,m=lb;if(qb&&!Ib&&!rb&&u<b)return e.close(),!0;qb&&(d=function(a){ca((1-m)*a+m)});e.zoomTo(a,0,200,f.easing.cubic.out,d);return!0};Xa("Gestures",{publicMethods:{initGestures:function(){var a=function(a,c,d,e,m){ja=a+c;ka=a+d;la=a+e;La=m?a+m:""};(ba=w.pointerEvent)&&w.touch&&(w.touch=!1);ba?navigator.pointerEnabled?
a("pointer","down","move","up","cancel"):a("MSPointer","Down","Move","Up","Cancel"):w.touch?(a("touch","start","move","end","cancel"),W=!0):a("mouse","down","move","up");ha=ka+" "+la+" "+La;ta=ja;ba&&!W&&(W=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints);e.likelyTouchDevice=W;C[ja]=wc;C[ka]=xc;C[la]=Cc;La&&(C[La]=C[la]);w.touch&&(ta+=" mousedown",ha+=" mousemove mouseup",C.mousedown=C[ja],C.mousemove=C[ka],C.mouseup=C[la]);W||(h.allowPanToNext=!1)}}});var Aa,ac=function(a,b,c,k){Aa&&clearTimeout(Aa);
Ob=Sa=!0;if(a.initialLayout){var m=a.initialLayout;a.initialLayout=null}else m=h.getThumbBoundsFn&&h.getThumbBoundsFn(n);var g=c?h.hideAnimationDuration:h.showAnimationDuration,y=function(){cb("initialZoom");c?(e.template.removeAttribute("style"),e.bg.removeAttribute("style")):(ca(1),b&&(b.style.display="block"),f.addClass(d,"pswp--animated-in"),v("initialZoom"+(c?"OutEnd":"InEnd")));k&&k();Sa=!1};g&&m&&void 0!==m.x?function(){var b=Ha,k=!e.currItem.src||e.currItem.loadError||h.showHideOpacity;a.miniImg&&
(a.miniImg.style.webkitBackfaceVisibility="hidden");c||(u=m.w/a.w,l.x=m.x,l.y=m.y-Ub,e[k?"template":"bg"].style.opacity=.001,D());Eb("initialZoom");c&&!b&&f.removeClass(d,"pswp--animated-in");if(k)if(c)f[(b?"remove":"add")+"Class"](d,"pswp--animate_opacity");else setTimeout(function(){f.addClass(d,"pswp--animate_opacity")},30);Aa=setTimeout(function(){v("initialZoom"+(c?"Out":"In"));if(c){var e=m.w/a.w,h=l.x,n=l.y,q=u,r=lb,p=function(a){1===a?(u=e,l.x=m.x,l.y=m.y-va):(u=(e-q)*a+q,l.x=(m.x-h)*a+h,
l.y=(m.y-va-n)*a+n);D();k?d.style.opacity=1-a:ca(r-a*r)};b?eb("initialZoom",0,1,g,f.easing.cubic.out,p,y):(p(1),Aa=setTimeout(y,g+20))}else u=a.initialZoomLevel,K(l,a.initialPosition),D(),ca(1),k?d.style.opacity=1:ca(1),Aa=setTimeout(y,g+20)},c?25:90)}():(v("initialZoom"+(c?"Out":"In")),u=a.initialZoomLevel,K(l,a.initialPosition),D(),d.style.opacity=c?0:1,ca(1),g?setTimeout(function(){y()},g):y())},Ta,Ua,Va,Fa=[],Ob,Sa,Dc={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',
forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Ta.length}},za,O,kc=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},ab=function(a,b,c){if(a.src&&!a.loadError){var d=!c;d&&(a.vGap||(a.vGap={top:0,bottom:0}),v("parseVerticalMargin",a));Ua=b.x;Va=b.y-a.vGap.top-a.vGap.bottom;if(d){b=Ua/a.w;var e=Va/a.h;a.fitRatio=b<e?b:e;b=h.scaleMode;"orig"===b?c=1:"fit"===b&&(c=a.fitRatio);1<c&&(c=1);a.initialZoomLevel=c;a.bounds||(a.bounds=kc())}if(!c)return;b=a.w*c;e=a.h*
c;var m=a.bounds;m.center.x=Math.round((Ua-b)/2);m.center.y=Math.round((Va-e)/2)+a.vGap.top;m.max.x=b>Ua?Math.round(Ua-b):m.center.x;m.max.y=e>Va?Math.round(Va-e)+a.vGap.top:m.center.y;m.min.x=b>Ua?0:m.center.x;m.min.y=e>Va?a.vGap.top:m.center.y;d&&c===a.initialZoomLevel&&(a.initialPosition=a.bounds.center)}else a.w=a.h=0,a.initialZoomLevel=a.fitRatio=1,a.bounds=kc(),a.initialPosition=a.bounds.center;return a.bounds},tb=function(a,b,c,d,m,f){!b.loadError&&d&&(b.imageAppended=!0,xa(b,d,b===e.currItem&&
wa),c.appendChild(d),f&&setTimeout(function(){b&&b.loaded&&b.placeholder&&(b.placeholder.style.display="none",b.placeholder=null)},500))},lc=function(a){a.loading=!0;a.loaded=!1;var b=a.img=f.createEl("pswp__img","img"),c=function(){a.loading=!1;a.loaded=!0;a.loadComplete?a.loadComplete(a):a.img=null;b=b.onload=b.onerror=null};b.onload=c;b.onerror=function(){a.loadError=!0;c()};b.src=a.src;return b},mc=function(a,b){if(a.src&&a.loadError&&a.container)return b&&(a.container.innerHTML=""),a.container.innerHTML=
h.errorMsg.replace("%url%",a.src),!0},xa=function(a,b,c){if(a.src){b||(b=a.container.lastChild);var d=c?a.w:Math.round(a.w*a.fitRatio);c=c?a.h:Math.round(a.h*a.fitRatio);a.placeholder&&!a.loaded&&(a.placeholder.style.width=d+"px",a.placeholder.style.height=c+"px");b.style.width=d+"px";b.style.height=c+"px"}},nc=function(){if(Fa.length){for(var a,b=0;b<Fa.length;b++)a=Fa[b],a.holder.index===a.index&&tb(a.index,a.item,a.baseDiv,a.img,!1,a.clearPlaceholder);Fa=[]}};Xa("Controller",{publicMethods:{lazyLoadItem:function(a){a=
kb(a);var b=za(a);b&&(!b.loaded&&!b.loading||ua)&&(v("gettingData",a,b),b.src&&lc(b))},initController:function(){f.extend(h,Dc,!0);e.items=Ta=p;za=e.getItemAt;O=h.getNumItemsFn;3>O()&&(h.loop=!1);A("beforeChange",function(a){var b=h.preload;a=null===a?!0:0<=a;var c=Math.min(b[0],O());b=Math.min(b[1],O());var d;for(d=1;d<=(a?b:c);d++)e.lazyLoadItem(n+d);for(d=1;d<=(a?c:b);d++)e.lazyLoadItem(n-d)});A("initialLayout",function(){e.currItem.initialLayout=h.getThumbBoundsFn&&h.getThumbBoundsFn(n)});A("mainScrollAnimComplete",
nc);A("initialZoomInEnd",nc);A("destroy",function(){for(var a,b=0;b<Ta.length;b++)a=Ta[b],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loadError&&(a.loaded=a.loadError=!1);Fa=null})},getItemAt:function(a){return 0<=a?void 0!==Ta[a]?Ta[a]:!1:!1},allowProgressiveImg:function(){return h.forceProgressiveLoading||!W||h.mouseUsed||1200<screen.width},setContent:function(a,b){h.loop&&(b=kb(b));var c=e.getItemAt(a.index);c&&(c.container=
null);c=e.getItemAt(b);if(c){v("gettingData",b,c);a.index=b;a.item=c;var d=c.container=f.createEl("pswp__zoom-wrap");!c.src&&c.html&&(c.html.tagName?d.appendChild(c.html):d.innerHTML=c.html);mc(c);ab(c,q);if(c.src&&!c.loadError&&!c.loaded){c.loadComplete=function(c){if(x){if(a&&a.index===b){if(mc(c,!0)){c.loadComplete=c.img=null;ab(c,q);Za(c);a.index===n&&e.updateCurrZoomItem();return}c.imageAppended?!Sa&&c.placeholder&&(c.placeholder.style.display="none",c.placeholder=null):w.transform&&(L||Sa)?
Fa.push({item:c,baseDiv:d,img:c.img,index:b,holder:a,clearPlaceholder:!0}):tb(b,c,d,c.img,L||Sa,!0)}c.loadComplete=null;c.img=null;v("imageLoadComplete",b,c)}};if(f.features.transform){var m=f.createEl("pswp__img pswp__img--placeholder"+(c.msrc?"":" pswp__img--placeholder--blank"),c.msrc?"img":"");c.msrc&&(m.src=c.msrc);xa(c,m);d.appendChild(m);c.placeholder=m}c.loading||lc(c);e.allowProgressiveImg()&&(!Ob&&w.transform?Fa.push({item:c,baseDiv:d,img:c.img,index:b,holder:a}):tb(b,c,d,c.img,!0,!0))}else if(c.src&&
!c.loadError){var g=f.createEl("pswp__img","img");g.style.opacity=1;g.src=c.src;xa(c,g);tb(b,c,d,g,!0)}Ob||b!==n?Za(c):(da=d.style,ac(c,g||c.img));a.el.innerHTML="";a.el.appendChild(d)}else a.el.innerHTML=""},cleanSlide:function(a){a.img&&(a.img.onload=a.img.onerror=null);a.loaded=a.loading=a.img=a.imageAppended=!1}}});var qa,ub={},Pb=function(a,b,c){var d=document.createEvent("CustomEvent");d.initCustomEvent("pswpTap",!0,!0,{origEvent:a,target:a.target,releasePoint:b,pointerType:c||"touch"});a.target.dispatchEvent(d)};
Xa("Tap",{publicMethods:{initTap:function(){A("firstTouchStart",e.onTapStart);A("touchRelease",e.onTapRelease);A("destroy",function(){ub={};qa=null})},onTapStart:function(a){1<a.length&&(clearTimeout(qa),qa=null)},onTapRelease:function(a,b){if(b&&!Pa&&!Kb&&!Qa){if(qa&&(clearTimeout(qa),qa=null,25>Math.abs(b.x-ub.x)&&25>Math.abs(b.y-ub.y))){v("doubleTap",b);return}"mouse"===b.type?Pb(a,b,"mouse"):"BUTTON"===a.target.tagName.toUpperCase()||f.hasClass(a.target,"pswp__single-tap")?Pb(a,b):(K(ub,b),qa=
setTimeout(function(){Pb(a,b);qa=null},300))}}}});var T;Xa("DesktopZoom",{publicMethods:{initDesktopZoom:function(){xb||(W?A("mouseUsed",function(){e.setupDesktopZoom()}):e.setupDesktopZoom(!0))},setupDesktopZoom:function(a){T={};A("bindEvents",function(){f.bind(d,"wheel mousewheel DOMMouseScroll",e.handleMouseWheel)});A("unbindEvents",function(){T&&f.unbind(d,"wheel mousewheel DOMMouseScroll",e.handleMouseWheel)});e.mouseZoomedIn=!1;var b,c=function(){e.mouseZoomedIn&&(f.removeClass(d,"pswp--zoomed-in"),
e.mouseZoomedIn=!1);1>u?f.addClass(d,"pswp--zoom-allowed"):f.removeClass(d,"pswp--zoom-allowed");m()},m=function(){b&&(f.removeClass(d,"pswp--dragging"),b=!1)};A("resize",c);A("afterChange",c);A("pointerDown",function(){e.mouseZoomedIn&&(b=!0,f.addClass(d,"pswp--dragging"))});A("pointerUp",m);a||c()},handleMouseWheel:function(a){if(u<=e.currItem.fitRatio)return h.modal&&(!h.closeOnScroll||Qa||Z?a.preventDefault():V&&2<Math.abs(a.deltaY)&&(Ha=!0,e.close())),!0;a.stopPropagation();T.x=0;if("deltaX"in
a)1===a.deltaMode?(T.x=18*a.deltaX,T.y=18*a.deltaY):(T.x=a.deltaX,T.y=a.deltaY);else if("wheelDelta"in a)a.wheelDeltaX&&(T.x=-.16*a.wheelDeltaX),T.y=a.wheelDeltaY?-.16*a.wheelDeltaY:-.16*a.wheelDelta;else if("detail"in a)T.y=a.detail;else return;Db(u,!0);var b=l.x-T.x,c=l.y-T.y;(h.modal||b<=t.min.x&&b>=t.max.x&&c<=t.min.y&&c>=t.max.y)&&a.preventDefault();e.panTo(b,c)},toggleDesktopZoom:function(a){a=a||{x:q.x/2+ia.x,y:q.y/2+ia.y};var b=h.getDoubleTapZoom(!0,e.currItem),c=u===b;e.mouseZoomedIn=!c;
e.zoomTo(c?e.currItem.initialZoomLevel:b,a,333);f[(c?"remove":"add")+"Class"](d,"pswp--zoomed-in")}}});var Ec={history:!0,galleryUID:1},jb,oc,Ga,vb,Qb,pc,wb,Rb,Sb,U,qc=function(){var a="";var b=U.hash.substring(1);var c={};b=b.replace("%5B","[");b=b.replace("%5D","]");b=b.replace(/([^|])(poster=|videoplayer)/mg,"$1|$2");b=b.match(/^!([\w\-[\]]+?\/(?:(\d+)(?=\/))?(https?:\/\/[^&]*)?([A-Z]{2}\/[_\w]*)?)/im);null!==b?(a=b[1],a=a.substring(a.indexOf("/")+1,a.length),/^([A-Z]{2}\/[_\w]*)$/im.test(a)&&
(a=a.replace("/","-")),jQuery.each(p,function(b,d){if("undefined"!==typeof d.contentID&&d.contentID=="jig-contentID-"+a||d.src==a)return c.pid=b,!1}),c.pid=parseInt(c.pid,10)):c.pid=0;return c},Tb=function(){Ga&&clearTimeout(Ga);if(Qa||Z)Ga=setTimeout(Tb,500);else{vb?clearTimeout(oc):vb=!0;var a="!"+h.galleryUID+"/";if("undefined"!==typeof p[n].contentID){var b=/(?:jig-contentID)-(\w{2})-([^\s]*)/im.exec(p[n].contentID);null!==b&&(a+=b[1]+"/"+b[2])}else a+=p[n].src;wb?(a=U.href.split("#")[0]+"#"+
a,U.replace(a)):(-1===U.hash.indexOf(a)&&-1===U.hash.indexOf("%5B")&&-1===U.hash.indexOf("%5D")&&(Sb=!0),U.hash=a);wb=!0;oc=setTimeout(function(){vb=!1},60)}};Xa("History",{publicMethods:{initHistory:function(){f.extend(h,Ec,!0);if(h.history){U=window.location;wb=Rb=Sb=!1;A("afterChange",e.updateURL);A("unbindEvents",function(){f.unbind(window,"hashchange",e.onHashChange)});var a=function(){pc=!0;Rb||(Sb?history.back():"pushState"in history?history.pushState("",document.title,U.pathname+U.search):
U.hash="");jb&&clearTimeout(jb);Ga&&clearTimeout(Ga)};A("unbindEvents",function(){Ha&&a()});A("destroy",function(){pc||a()});A("firstUpdate",function(){n=qc().pid});setTimeout(function(){x&&f.bind(window,"hashchange",e.onHashChange)},40)}},onHashChange:function(){""===U.hash.substring(1)?(Rb=!0,e.close()):vb||(Qb=!0,e.goTo(qc().pid),Qb=!1)},updateURL:function(){jb&&clearTimeout(jb);Ga&&clearTimeout(Ga);Qb||(wb?jb=setTimeout(Tb,800):Tb())}}});f.extend(e,uc)}});
(function(d,g){"function"===typeof define&&define.amd?define(g):"undefined"!==typeof module&&"object"===typeof exports?module.exports=g():d.PhotoSwipeUI_Default=g()})(this,function(){return function(d,g){var p=this,ra=!1,f=!0,e,h,B,x,sa,Ha,n,N=!0,Q,G,r,l,ha,ta,C,q,u={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4E3,timeToIdleOutside:1E3,loadingIndicatorDelay:1E3,addCaptionHTMLFn:function(d,e){if(!d.title)return e.children[0].innerHTML="",
!1;e.children[0].innerHTML=d.title;return!0},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},
{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return d.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return d.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},R,Ia=function(d){if(R)return!0;d=d||window.event;q.timeToIdle&&q.mouseUsed&&!G&&ka();for(var e,m=(d.target||d.srcElement).getAttribute("class")||"",f,h=0;h<ma.length;h++)e=ma[h],e.onTap&&-1<m.indexOf("pswp__"+
e.name)&&(e.onTap(),f=!0);f&&(d.stopPropagation&&d.stopPropagation(),R=!0,setTimeout(function(){R=!1},g.features.isOldAndroid?600:30))},X=function(d,e,f){g[(f?"add":"remove")+"Class"](d,"pswp__"+e)},Ja=function(){var d=1===q.getNumItemsFn();d!==C&&(X(h,"ui--one-slide",d),C=d)},ua=function(){X(n,"share-modal--hidden",N)},J=function(){(N=!N)?(g.removeClass(n,"pswp__share-modal--fade-in"),setTimeout(function(){N&&ua()},300)):(ua(),setTimeout(function(){N||g.addClass(n,"pswp__share-modal--fade-in")},
30));N||H();return!1},ia=function(e){e=e||window.event;var m=e.target||e.srcElement;d.shout("shareLinkClick",e,m);if(!m.href)return!1;if(m.hasAttribute("download"))return!0;window.open(m.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100));N||J();return!1},H=function(){var e="",f=d.options.shareButtons,g,h;if(location.hash){var l=decodeURI(document.location.href);var q=l.split("#!");l=q[0]+"#!"+
q[1]}else l=location.href;if("undefined"!==typeof d.options.socialButtons){var r=d.options.socialButtons;f=[];r=r.toLowerCase();r=r.split("");q=jQuery.inArray("f",r);var p=jQuery.inArray("t",r),x=jQuery.inArray("p",r);r=jQuery.inArray("g",r);~q&&(f[q]=d.options.shareButtons[0]);~p&&(f[p]=d.options.shareButtons[1]);~x&&(f[x]=d.options.shareButtons[2]);~r&&(f[r]=d.options.shareButtons[3]);"undefined"!==typeof d.options.shareButtons[4]&&f.push(d.options.shareButtons[4])}jQuery.each(f,function(m,f){"undefined"!==
typeof f&&(h=(d.currItem.title||"")+(d.currItem.description?(d.currItem.title?" ":"")+d.currItem.description:"")||document.title,g=f.url.replace("{{url}}",encodeURIComponent(l)).replace("{{facebook_url}}",encodeURIComponent(l.replace("#!",(-1===l.indexOf("?")?"?":"&")+"_escaped_fragment_="))).replace("{{image_url}}",encodeURIComponent(d.currItem.src||"")).replace("{{raw_image_url}}",d.currItem.src||"").replace("{{title}}",encodeURIComponent(d.currItem.title||document.title)).replace("{{description}}",
encodeURIComponent(jQuery("<p>"+h.replace(/<a(?:.+?)href=['"](.+?)['"](?:.+?>)(.+?)(?:<\/a>)/mg,"$2: $1")+"</p>").text())),e+='<a href="'+g+'" target="_blank" class="pswp__share--'+f.id+'"'+(f.download?"download":"")+">"+f.label+"</a>")});n.children[0].innerHTML=e;n.children[0].onclick=ia},z=function(d){for(var e=0;e<q.closeElClasses.length;e++)if(g.hasClass(d,"pswp__"+q.closeElClasses[e]))return!0},Ka,I,ja=0,ka=function(){clearTimeout(I);ja=0;G&&p.setIdle(!1)},la=function(d){d=d?d:window.event;d=
d.relatedTarget||d.toElement;d&&"HTML"!==d.nodeName||(clearTimeout(I),I=setTimeout(function(){p.setIdle(!0)},q.timeToIdleOutside))},La=function(){q.preloaderEl&&(V(!0),r("beforeChange",function(){clearTimeout(ta);ta=setTimeout(function(){d.currItem&&d.currItem.loading?(!d.allowProgressiveImg()||d.currItem.img&&!d.currItem.img.naturalWidth)&&V(!1):V(!0)},q.loadingIndicatorDelay)}),r("imageLoadComplete",function(e,f){d.currItem===f&&V(!0)}))},V=function(d){ha!==d&&(X(l,"preloader--active",!d),ha=d)},
ba=function(e){var f=e.vGap;if(!d.likelyTouchDevice||q.mouseUsed||screen.width>q.fitControlsWidth){var m=q.barsSize;q.captionEl&&"auto"===m.bottom?(x||(x=g.createEl("pswp__caption pswp__caption--fake"),x.appendChild(g.createEl("pswp__caption__center")),h.insertBefore(x,B),g.addClass(h,"pswp__ui--fit")),q.addCaptionHTMLFn(e,x,!0)?f.bottom=parseInt(x.clientHeight,10)||44:f.bottom=m.top):f.bottom="auto"===m.bottom?0:m.bottom;f.top=m.top}else f.top=f.bottom=0},Ma=function(){q.timeToIdle&&r("mouseUsed",
function(){g.bind(document,"mousemove",ka);g.bind(document,"mouseout",la);Ka=setInterval(function(){ja++;2===ja&&p.setIdle(!0)},q.timeToIdle/2)})},W=function(){r("onVerticalDrag",function(d){f&&.95>d?p.hideControls():!f&&.95<=d&&p.showControls()});var d;r("onPinchClose",function(e){f&&.9>e?(p.hideControls(),d=!0):d&&!f&&.9<e&&p.showControls()});r("zoomGestureEnded",function(){d=!1})},ma=[{name:"caption",option:"captionEl",onInit:function(d){B=d}},{name:"share-modal",option:"shareEl",onInit:function(d){n=
d},onTap:function(){J()}},{name:"button--share",option:"shareEl",onInit:function(d){Ha=d},onTap:function(){J()}},{name:"button--zoom",option:"zoomEl",onTap:d.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(d){sa=d}},{name:"button--close",option:"closeEl",onTap:d.close},{name:"button--arrow--left",option:"arrowEl",onTap:d.prev},{name:"button--arrow--right",option:"arrowEl",onTap:d.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){e.isFullscreen()?e.exit():e.enter()}},
{name:"preloader",option:"preloaderEl",onInit:function(d){l=d}}],Na=function(){var d,e,f,l=function(m){if(m)for(var h=m.length,l=0;l<h;l++){d=m[l];e=d.className;for(var n=0;n<ma.length;n++)if(f=ma[n],-1<e.indexOf("pswp__"+f.name))if(q[f.option]){if(g.removeClass(d,"pswp__element--disabled"),f.onInit)f.onInit(d)}else g.addClass(d,"pswp__element--disabled")}};l(h.children);var n=g.getChildByClass(h,"pswp__top-bar");n&&l(n.children)};p.init=function(){g.extend(d.options,u,!0);q=d.options;h=g.getChildByClass(d.scrollWrap,
"pswp__ui");r=d.listen;W();r("beforeChange",p.update);r("doubleTap",function(e){var f=d.currItem.initialZoomLevel;d.getZoomLevel()!==f?d.zoomTo(f,e,333):d.zoomTo(q.getDoubleTapZoom(!1,d.currItem),e,333)});r("preventDragEvent",function(d,e,f){(e=d.target||d.srcElement)&&e.getAttribute("class")&&-1<d.type.indexOf("mouse")&&(0<e.getAttribute("class").indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(e.tagName))&&(f.prevent=!1)});r("bindEvents",function(){g.bind(h,"pswpTap click",Ia);g.bind(d.scrollWrap,
"pswpTap",p.onGlobalTap);d.likelyTouchDevice||g.bind(d.scrollWrap,"mouseover",p.onMouseOver)});r("unbindEvents",function(){N||J();Ka&&clearInterval(Ka);g.unbind(document,"mouseout",la);g.unbind(document,"mousemove",ka);g.unbind(h,"pswpTap click",Ia);g.unbind(d.scrollWrap,"pswpTap",p.onGlobalTap);g.unbind(d.scrollWrap,"mouseover",p.onMouseOver);e&&(g.unbind(document,e.eventK,p.updateFullscreen),e.isFullscreen()&&(q.hideAnimationDuration=0,e.exit()),e=null)});r("destroy",function(){q.captionEl&&(x&&
h.removeChild(x),g.removeClass(B,"pswp__caption--empty"));n&&(n.children[0].onclick=null);g.removeClass(h,"pswp__ui--over-close");g.addClass(h,"pswp__ui--hidden");p.setIdle(!1)});q.showAnimationDuration||g.removeClass(h,"pswp__ui--hidden");r("initialZoomIn",function(){q.showAnimationDuration&&g.removeClass(h,"pswp__ui--hidden")});r("initialZoomOut",function(){g.addClass(h,"pswp__ui--hidden")});r("parseVerticalMargin",ba);Na();q.shareEl&&Ha&&n&&(N=!0);Ja();Ma();q.fullscreenEl&&!g.features.isOldAndroid&&
(e||(e=p.getFullscreenAPI()),e?(g.bind(document,e.eventK,p.updateFullscreen),p.updateFullscreen(),g.addClass(d.template,"pswp--supports-fs")):g.removeClass(d.template,"pswp--supports-fs"));La()};p.setIdle=function(d){G=d;X(h,"ui--idle",d)};p.update=function(){f&&d.currItem?(p.updateIndexIndicator(),q.captionEl&&(q.addCaptionHTMLFn(d.currItem,B),X(B,"caption--empty",!d.currItem.title&&!d.currItem.description)),ra=!0):ra=!1;N||J();Ja()};p.updateFullscreen=function(f){f&&setTimeout(function(){d.setScrollOffset(0,
g.getScrollY())},50);g[(e.isFullscreen()?"add":"remove")+"Class"](d.template,"pswp--fs")};p.updateIndexIndicator=function(){q.counterEl&&(sa.innerHTML=d.getCurrentIndex()+1+q.indexIndicatorSep+q.getNumItemsFn())};p.onGlobalTap=function(e){e=e||window.event;var h=e.target||e.srcElement;R||(e.detail&&"mouse"===e.detail.pointerType?z(h)?d.close():g.hasClass(h,"pswp__img")&&(1===d.getZoomLevel()&&d.getZoomLevel()<=d.currItem.fitRatio?q.clickToCloseNonZoomable&&d.close():d.toggleDesktopZoom(e.detail.releasePoint)):
(q.tapToToggleControls&&(f?p.hideControls():p.showControls()),q.tapToClose&&(g.hasClass(h,"pswp__img")||z(h))&&d.close()))};p.onMouseOver=function(d){d=d||window.event;X(h,"ui--over-close",z(d.target||d.srcElement))};p.hideControls=function(){g.addClass(h,"pswp__ui--hidden");f=!1};p.showControls=function(){f=!0;ra||p.update();g.removeClass(h,"pswp__ui--hidden")};p.supportsFullscreen=function(){var d=document;return!!(d.exitFullscreen||d.mozCancelFullScreen||d.webkitExitFullscreen||d.msExitFullscreen)};
p.getFullscreenAPI=function(){var e=document.documentElement,f;e.requestFullscreen?f={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:"fullscreenchange"}:e.mozRequestFullScreen?f={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"mozfullscreenchange"}:e.webkitRequestFullscreen?f={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkitfullscreenchange"}:e.msRequestFullscreen&&
(f={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"});f&&(f.enter=function(){Q=q.closeOnScroll;q.closeOnScroll=!1;if("webkitRequestFullscreen"===this.enterK)d.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT);else return d.template[this.enterK]()},f.exit=function(){q.closeOnScroll=Q;return document[this.exitK]()},f.isFullscreen=function(){return document[this.elementK]});return f}}});
(function(d){d.fn.JIGphotoSwipe=function(g){var p=this,ra=d(p[0]).closest(".justified-image-grid"),f=d.extend(!0,{},g),e=function(e){var f=[];p.filter('[rel~="'+e+'"]').each(function(e){e=d(this);var g=e.find("img"),h=e.find("img").attr("alt"),p=e.attr("title"),x=e.attr("data-wh").split("x"),r="jig-overflow"==e.parent().attr("class")?e.closest(".jig-imageContainer").attr("class"):e.attr("class");r=/(?:jig-contentID)-(\w{2})-([^\s]*)/im.exec(r);g={src:e.attr("href"),w:parseInt(x[0],10),h:parseInt(x[1],
10),msrc:g.attr("src")};null!=r&&(g.contentID=r[0]);h&&(g.title=h);p&&(g.description=p);g.el=e[0];f.push(g)});return f},h=function(e){e.preventDefault();var f=d(e.target).closest(".jig-imageContainer").attr("class");f=/(?:jig-contentID)-(\w{2})-([^\s]*)/im.exec(f);var g=d(e.target).closest("a.jig-link");e=g.attr("rel").split(" ").shift();f=null!=f?f[0]:g.attr("href");B(f,e);return!1},B=function(h,p,B){var n=e(p),x=!1;if(0==n.length)return!1;d.each(n,function(d,e){if("undefined"!==typeof e.contentID&&
e.contentID==h||e.src==h)return g.index=d,!1});g.galleryUID=p;g.getThumbBoundsFn=function(e){if("jig-overflow"==d(n[e].el).parent().attr("class")){var f=n[e].el.getElementsByTagName("img")[0];e=d(window).scrollTop();f=f.getBoundingClientRect();return{x:f.left,y:f.top+e,w:f.width}}return{x:d(window).width()/2,y:d(window).height()/2+d(window).scrollTop(),w:0}};g.addCaptionHTMLFn=function(d,e,f){f=[];"undefined"!==typeof d.title&&f.push(d.title);"undefined"!==typeof d.description&&f.push("<small>"+d.description+
"</small>");if(0==f.length)return e.children[0].innerText="",!1;e.children[0].innerHTML=f.join("<br/>");return!0};g.shareButtons=[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{facebook_url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{title}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{description}}"},{id:"googleplus",label:"Share on Google+",
url:"https://plus.google.com/share?url={{url}}"}];"undefined"!==typeof g.allowDownload&&!0===g.allowDownload&&g.shareButtons.push({id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0});if(B){if(g.showAnimationDuration=0,"undefined"==typeof f.closeOnScroll||1==f.closeOnScroll){g.closeOnScroll=!1;var sa=!0}}else g.showAnimationDuration="undefined"==typeof f.showAnimationDuration?333:f.showAnimationDuration;p=d(n[g.index].el);"jig-overflow"!=p.parent().attr("class")||"0px"===p.find("img").css("margin-left")&&
!p.parent().parent().hasClass("differentAspectRatio")||(x=!0);x||"undefined"!==typeof g.aspectRatioMismatch&&!0===g.aspectRatioMismatch?(g.showAnimationDuration=0,g.showHideOpacity="undefined"==typeof f.showHideOpacity?!0:f.showHideOpacity,g.mainClass="hidePsPlaceholder"):(g.showAnimationDuration="undefined"==typeof f.showAnimationDuration?333:f.showAnimationDuration,g.showHideOpacity="undefined"==typeof f.showHideOpacity?!1:f.showHideOpacity,g.mainClass="undefined"==typeof f.mainClass?"":f.mainClass);
d(".pswp").removeAttr("style");d(".pswp").removeClass(function(d,e){return(e.match(/pswp--\S+theme/g)||[]).join(" ")});"undefined"!==g.customTheme&&d(".pswp").addClass("pswp--"+g.customTheme+"-theme");d.fn.JIGphotoSwipe.gallery=new PhotoSwipe(d(".pswp")[0],PhotoSwipeUI_Default,n,g);d.fn.JIGphotoSwipe.gallery.init();1==sa&&setTimeout(function(){d.fn.JIGphotoSwipe.gallery.options.closeOnScroll=!0},2E3)};(function(){if(0===d(".pswp").length){var e="undefined"!==typeof g.captionAlign?" pswp__ca_"+g.captionAlign:
" pswp__ca_center";d("body").append('<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden'+e+'"><div class="pswp__top-bar"><div class="pswp__counter"></div><span class="pswp__button pswp__button--close" title="Close (Esc)"></span><span class="pswp__button pswp__button--share" title="Share"></span><span class="pswp__button pswp__button--fs" title="Toggle fullscreen"></span><span class="pswp__button pswp__button--zoom" title="Zoom in/out"></span><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><span class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></span><span class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></span><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div>')}ra.off("click.photoswipe").on("click.photoswipe",
"a.jig-link",h);var f="";e=location.hash;e=e.replace("%5B","[");e=e.replace("%5D","]");e=e.replace(/([^|])(poster=|videoplayer)/mg,"$1|$2");var p=e.match(/^#!([\w\-[\]]+?\/(?:(\d+)(?=\/))?(https?:\/\/[^&]*)?([A-Z]{2}\/[_\w]*)?)/im);null!==p&&(f=p[1],f=f.substring(f.indexOf("/")+1,f.length),/^([A-Z]{2}\/[_\w]*)$/im.test(f)&&(f=f.replace("/","-")));f="jig-contentID-"+f;(e=e.substring(2,e.indexOf("/")))&&f&&B(f,e,!0)})()}})(jQuery);